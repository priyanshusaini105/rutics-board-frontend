(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(a){if(a.ep)return;a.ep=!0;const r=t(a);fetch(a.href,r)}})();/**!
 * Sortable 1.15.6
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function pt(o,e){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(o);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(o,a).enumerable})),t.push.apply(t,n)}return t}function G(o){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?pt(Object(t),!0).forEach(function(n){Rt(o,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):pt(Object(t)).forEach(function(n){Object.defineProperty(o,n,Object.getOwnPropertyDescriptor(t,n))})}return o}function Me(o){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Me=function(e){return typeof e}:Me=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Me(o)}function Rt(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}function K(){return K=Object.assign||function(o){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=t[n])}return o},K.apply(this,arguments)}function Xt(o,e){if(o==null)return{};var t={},n=Object.keys(o),a,r;for(r=0;r<n.length;r++)a=n[r],!(e.indexOf(a)>=0)&&(t[a]=o[a]);return t}function Yt(o,e){if(o==null)return{};var t=Xt(o,e),n,a;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(o);for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(o,n)&&(t[n]=o[n])}return t}var Gt="1.15.6";function U(o){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(o)}var J=U(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Ce=U(/Edge/i),mt=U(/firefox/i),ke=U(/safari/i)&&!U(/chrome/i)&&!U(/android/i),lt=U(/iP(ad|od|hone)/i),xt=U(/chrome/i)&&U(/android/i),Tt={capture:!1,passive:!1};function v(o,e,t){o.addEventListener(e,t,!J&&Tt)}function g(o,e,t){o.removeEventListener(e,t,!J&&Tt)}function Fe(o,e){if(e){if(e[0]===">"&&(e=e.substring(1)),o)try{if(o.matches)return o.matches(e);if(o.msMatchesSelector)return o.msMatchesSelector(e);if(o.webkitMatchesSelector)return o.webkitMatchesSelector(e)}catch{return!1}return!1}}function Dt(o){return o.host&&o!==document&&o.host.nodeType?o.host:o.parentNode}function R(o,e,t,n){if(o){t=t||document;do{if(e!=null&&(e[0]===">"?o.parentNode===t&&Fe(o,e):Fe(o,e))||n&&o===t)return o;if(o===t)break}while(o=Dt(o))}return null}var gt=/\s+/g;function $(o,e,t){if(o&&e)if(o.classList)o.classList[t?"add":"remove"](e);else{var n=(" "+o.className+" ").replace(gt," ").replace(" "+e+" "," ");o.className=(n+(t?" "+e:"")).replace(gt," ")}}function h(o,e,t){var n=o&&o.style;if(n){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(o,""):o.currentStyle&&(t=o.currentStyle),e===void 0?t:t[e];!(e in n)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),n[e]=t+(typeof t=="string"?"":"px")}}function fe(o,e){var t="";if(typeof o=="string")t=o;else do{var n=h(o,"transform");n&&n!=="none"&&(t=n+" "+t)}while(!e&&(o=o.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(t)}function St(o,e,t){if(o){var n=o.getElementsByTagName(e),a=0,r=n.length;if(t)for(;a<r;a++)t(n[a],a);return n}return[]}function Y(){var o=document.scrollingElement;return o||document.documentElement}function S(o,e,t,n,a){if(!(!o.getBoundingClientRect&&o!==window)){var r,i,s,l,c,f,u;if(o!==window&&o.parentNode&&o!==Y()?(r=o.getBoundingClientRect(),i=r.top,s=r.left,l=r.bottom,c=r.right,f=r.height,u=r.width):(i=0,s=0,l=window.innerHeight,c=window.innerWidth,f=window.innerHeight,u=window.innerWidth),(e||t)&&o!==window&&(a=a||o.parentNode,!J))do if(a&&a.getBoundingClientRect&&(h(a,"transform")!=="none"||t&&h(a,"position")!=="static")){var b=a.getBoundingClientRect();i-=b.top+parseInt(h(a,"border-top-width")),s-=b.left+parseInt(h(a,"border-left-width")),l=i+r.height,c=s+r.width;break}while(a=a.parentNode);if(n&&o!==window){var E=fe(a||o),y=E&&E.a,w=E&&E.d;E&&(i/=w,s/=y,u/=y,f/=w,l=i+f,c=s+u)}return{top:i,left:s,bottom:l,right:c,width:u,height:f}}}function vt(o,e,t){for(var n=te(o,!0),a=S(o)[e];n;){var r=S(n)[t],i=void 0;if(i=a>=r,!i)return n;if(n===Y())break;n=te(n,!1)}return!1}function he(o,e,t,n){for(var a=0,r=0,i=o.children;r<i.length;){if(i[r].style.display!=="none"&&i[r]!==p.ghost&&(n||i[r]!==p.dragged)&&R(i[r],t.draggable,o,!1)){if(a===e)return i[r];a++}r++}return null}function ct(o,e){for(var t=o.lastElementChild;t&&(t===p.ghost||h(t,"display")==="none"||e&&!Fe(t,e));)t=t.previousElementSibling;return t||null}function B(o,e){var t=0;if(!o||!o.parentNode)return-1;for(;o=o.previousElementSibling;)o.nodeName.toUpperCase()!=="TEMPLATE"&&o!==p.clone&&(!e||Fe(o,e))&&t++;return t}function bt(o){var e=0,t=0,n=Y();if(o)do{var a=fe(o),r=a.a,i=a.d;e+=o.scrollLeft*r,t+=o.scrollTop*i}while(o!==n&&(o=o.parentNode));return[e,t]}function Wt(o,e){for(var t in o)if(o.hasOwnProperty(t)){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===o[t][n])return Number(t)}return-1}function te(o,e){if(!o||!o.getBoundingClientRect)return Y();var t=o,n=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var a=h(t);if(t.clientWidth<t.scrollWidth&&(a.overflowX=="auto"||a.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(a.overflowY=="auto"||a.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return Y();if(n||e)return t;n=!0}}while(t=t.parentNode);return Y()}function qt(o,e){if(o&&e)for(var t in e)e.hasOwnProperty(t)&&(o[t]=e[t]);return o}function qe(o,e){return Math.round(o.top)===Math.round(e.top)&&Math.round(o.left)===Math.round(e.left)&&Math.round(o.height)===Math.round(e.height)&&Math.round(o.width)===Math.round(e.width)}var xe;function Ct(o,e){return function(){if(!xe){var t=arguments,n=this;t.length===1?o.call(n,t[0]):o.apply(n,t),xe=setTimeout(function(){xe=void 0},e)}}}function Ut(){clearTimeout(xe),xe=void 0}function jt(o,e,t){o.scrollLeft+=e,o.scrollTop+=t}function _t(o){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(o).cloneNode(!0):t?t(o).clone(!0)[0]:o.cloneNode(!0)}function It(o,e,t){var n={};return Array.from(o.children).forEach(function(a){var r,i,s,l;if(!(!R(a,e.draggable,o,!1)||a.animated||a===t)){var c=S(a);n.left=Math.min((r=n.left)!==null&&r!==void 0?r:1/0,c.left),n.top=Math.min((i=n.top)!==null&&i!==void 0?i:1/0,c.top),n.right=Math.max((s=n.right)!==null&&s!==void 0?s:-1/0,c.right),n.bottom=Math.max((l=n.bottom)!==null&&l!==void 0?l:-1/0,c.bottom)}}),n.width=n.right-n.left,n.height=n.bottom-n.top,n.x=n.left,n.y=n.top,n}var O="Sortable"+new Date().getTime();function Kt(){var o=[],e;return{captureAnimationState:function(){if(o=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(a){if(!(h(a,"display")==="none"||a===p.ghost)){o.push({target:a,rect:S(a)});var r=G({},o[o.length-1].rect);if(a.thisAnimationDuration){var i=fe(a,!0);i&&(r.top-=i.f,r.left-=i.e)}a.fromRect=r}})}},addAnimationState:function(n){o.push(n)},removeAnimationState:function(n){o.splice(Wt(o,{target:n}),1)},animateAll:function(n){var a=this;if(!this.options.animation){clearTimeout(e),typeof n=="function"&&n();return}var r=!1,i=0;o.forEach(function(s){var l=0,c=s.target,f=c.fromRect,u=S(c),b=c.prevFromRect,E=c.prevToRect,y=s.rect,w=fe(c,!0);w&&(u.top-=w.f,u.left-=w.e),c.toRect=u,c.thisAnimationDuration&&qe(b,u)&&!qe(f,u)&&(y.top-u.top)/(y.left-u.left)===(f.top-u.top)/(f.left-u.left)&&(l=Vt(y,b,E,a.options)),qe(u,f)||(c.prevFromRect=f,c.prevToRect=u,l||(l=a.options.animation),a.animate(c,y,u,l)),l&&(r=!0,i=Math.max(i,l),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null},l),c.thisAnimationDuration=l)}),clearTimeout(e),r?e=setTimeout(function(){typeof n=="function"&&n()},i):typeof n=="function"&&n(),o=[]},animate:function(n,a,r,i){if(i){h(n,"transition",""),h(n,"transform","");var s=fe(this.el),l=s&&s.a,c=s&&s.d,f=(a.left-r.left)/(l||1),u=(a.top-r.top)/(c||1);n.animatingX=!!f,n.animatingY=!!u,h(n,"transform","translate3d("+f+"px,"+u+"px,0)"),this.forRepaintDummy=Jt(n),h(n,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),h(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){h(n,"transition",""),h(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},i)}}}}function Jt(o){return o.offsetWidth}function Vt(o,e,t,n){return Math.sqrt(Math.pow(e.top-o.top,2)+Math.pow(e.left-o.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*n.animation}var le=[],Ue={initializeByDefault:!0},je={mount:function(e){for(var t in Ue)Ue.hasOwnProperty(t)&&!(t in e)&&(e[t]=Ue[t]);le.forEach(function(n){if(n.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),le.push(e)},pluginEvent:function(e,t,n){var a=this;this.eventCanceled=!1,n.cancel=function(){a.eventCanceled=!0};var r=e+"Global";le.forEach(function(i){t[i.pluginName]&&(t[i.pluginName][r]&&t[i.pluginName][r](G({sortable:t},n)),t.options[i.pluginName]&&t[i.pluginName][e]&&t[i.pluginName][e](G({sortable:t},n)))})},initializePlugins:function(e,t,n,a){le.forEach(function(s){var l=s.pluginName;if(!(!e.options[l]&&!s.initializeByDefault)){var c=new s(e,t,e.options);c.sortable=e,c.options=e.options,e[l]=c,K(n,c.defaults)}});for(var r in e.options)if(e.options.hasOwnProperty(r)){var i=this.modifyOption(e,r,e.options[r]);typeof i<"u"&&(e.options[r]=i)}},getEventProperties:function(e,t){var n={};return le.forEach(function(a){typeof a.eventProperties=="function"&&K(n,a.eventProperties.call(t[a.pluginName],e))}),n},modifyOption:function(e,t,n){var a;return le.forEach(function(r){e[r.pluginName]&&r.optionListeners&&typeof r.optionListeners[t]=="function"&&(a=r.optionListeners[t].call(e[r.pluginName],n))}),a}};function Zt(o){var e=o.sortable,t=o.rootEl,n=o.name,a=o.targetEl,r=o.cloneEl,i=o.toEl,s=o.fromEl,l=o.oldIndex,c=o.newIndex,f=o.oldDraggableIndex,u=o.newDraggableIndex,b=o.originalEvent,E=o.putSortable,y=o.extraEventProperties;if(e=e||t&&t[O],!!e){var w,F=e.options,W="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!J&&!Ce?w=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(w=document.createEvent("Event"),w.initEvent(n,!0,!0)),w.to=i||t,w.from=s||t,w.item=a||t,w.clone=r,w.oldIndex=l,w.newIndex=c,w.oldDraggableIndex=f,w.newDraggableIndex=u,w.originalEvent=b,w.pullMode=E?E.lastPutMode:void 0;var I=G(G({},y),je.getEventProperties(n,e));for(var H in I)w[H]=I[H];t&&t.dispatchEvent(w),F[W]&&F[W].call(e,w)}}var Qt=["evt"],P=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=n.evt,r=Yt(n,Qt);je.pluginEvent.bind(p)(e,t,G({dragEl:d,parentEl:T,ghostEl:m,rootEl:k,nextEl:se,lastDownEl:Ne,cloneEl:x,cloneHidden:ee,dragStarted:ye,putSortable:C,activeSortable:p.active,originalEvent:a,oldIndex:ue,oldDraggableIndex:Te,newIndex:L,newDraggableIndex:Q,hideGhostForTarget:Mt,unhideGhostForTarget:Nt,cloneNowHidden:function(){ee=!0},cloneNowShown:function(){ee=!1},dispatchSortableEvent:function(s){A({sortable:t,name:s,originalEvent:a})}},r))};function A(o){Zt(G({putSortable:C,cloneEl:x,targetEl:d,rootEl:k,oldIndex:ue,oldDraggableIndex:Te,newIndex:L,newDraggableIndex:Q},o))}var d,T,m,k,se,Ne,x,ee,ue,L,Te,Q,Ie,C,de=!1,He=!1,ze=[],re,z,Ke,Je,yt,wt,ye,ce,De,Se=!1,Ae=!1,$e,j,Ve=[],nt=!1,Re=[],Ye=typeof document<"u",Pe=lt,Et=Ce||J?"cssFloat":"float",en=Ye&&!xt&&!lt&&"draggable"in document.createElement("div"),At=(function(){if(Ye){if(J)return!1;var o=document.createElement("x");return o.style.cssText="pointer-events:auto",o.style.pointerEvents==="auto"}})(),Pt=function(e,t){var n=h(e),a=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),r=he(e,0,t),i=he(e,1,t),s=r&&h(r),l=i&&h(i),c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+S(r).width,f=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+S(i).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&s.float&&s.float!=="none"){var u=s.float==="left"?"left":"right";return i&&(l.clear==="both"||l.clear===u)?"vertical":"horizontal"}return r&&(s.display==="block"||s.display==="flex"||s.display==="table"||s.display==="grid"||c>=a&&n[Et]==="none"||i&&n[Et]==="none"&&c+f>a)?"vertical":"horizontal"},tn=function(e,t,n){var a=n?e.left:e.top,r=n?e.right:e.bottom,i=n?e.width:e.height,s=n?t.left:t.top,l=n?t.right:t.bottom,c=n?t.width:t.height;return a===s||r===l||a+i/2===s+c/2},nn=function(e,t){var n;return ze.some(function(a){var r=a[O].options.emptyInsertThreshold;if(!(!r||ct(a))){var i=S(a),s=e>=i.left-r&&e<=i.right+r,l=t>=i.top-r&&t<=i.bottom+r;if(s&&l)return n=a}}),n},Ot=function(e){function t(r,i){return function(s,l,c,f){var u=s.options.group.name&&l.options.group.name&&s.options.group.name===l.options.group.name;if(r==null&&(i||u))return!0;if(r==null||r===!1)return!1;if(i&&r==="clone")return r;if(typeof r=="function")return t(r(s,l,c,f),i)(s,l,c,f);var b=(i?s:l).options.group.name;return r===!0||typeof r=="string"&&r===b||r.join&&r.indexOf(b)>-1}}var n={},a=e.group;(!a||Me(a)!="object")&&(a={name:a}),n.name=a.name,n.checkPull=t(a.pull,!0),n.checkPut=t(a.put),n.revertClone=a.revertClone,e.group=n},Mt=function(){!At&&m&&h(m,"display","none")},Nt=function(){!At&&m&&h(m,"display","")};Ye&&!xt&&document.addEventListener("click",function(o){if(He)return o.preventDefault(),o.stopPropagation&&o.stopPropagation(),o.stopImmediatePropagation&&o.stopImmediatePropagation(),He=!1,!1},!0);var ie=function(e){if(d){e=e.touches?e.touches[0]:e;var t=nn(e.clientX,e.clientY);if(t){var n={};for(var a in e)e.hasOwnProperty(a)&&(n[a]=e[a]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[O]._onDragOver(n)}}},on=function(e){d&&d.parentNode[O]._isOutsideThisEl(e.target)};function p(o,e){if(!(o&&o.nodeType&&o.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(o));this.el=o,this.options=e=K({},e),o[O]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(o.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Pt(o,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(i,s){i.setData("Text",s.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:p.supportPointer!==!1&&"PointerEvent"in window&&(!ke||lt),emptyInsertThreshold:5};je.initializePlugins(this,o,t);for(var n in t)!(n in e)&&(e[n]=t[n]);Ot(e);for(var a in this)a.charAt(0)==="_"&&typeof this[a]=="function"&&(this[a]=this[a].bind(this));this.nativeDraggable=e.forceFallback?!1:en,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?v(o,"pointerdown",this._onTapStart):(v(o,"mousedown",this._onTapStart),v(o,"touchstart",this._onTapStart)),this.nativeDraggable&&(v(o,"dragover",this),v(o,"dragenter",this)),ze.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),K(this,Kt())}p.prototype={constructor:p,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(ce=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,d):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,a=this.options,r=a.preventOnFilter,i=e.type,s=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(s||e).target,c=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,f=a.filter;if(fn(n),!d&&!(/mousedown|pointerdown/.test(i)&&e.button!==0||a.disabled)&&!c.isContentEditable&&!(!this.nativeDraggable&&ke&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=R(l,a.draggable,n,!1),!(l&&l.animated)&&Ne!==l)){if(ue=B(l),Te=B(l,a.draggable),typeof f=="function"){if(f.call(this,e,l,this)){A({sortable:t,rootEl:c,name:"filter",targetEl:l,toEl:n,fromEl:n}),P("filter",t,{evt:e}),r&&e.preventDefault();return}}else if(f&&(f=f.split(",").some(function(u){if(u=R(c,u.trim(),n,!1),u)return A({sortable:t,rootEl:u,name:"filter",targetEl:l,fromEl:n,toEl:n}),P("filter",t,{evt:e}),!0}),f)){r&&e.preventDefault();return}a.handle&&!R(c,a.handle,n,!1)||this._prepareDragStart(e,s,l)}}},_prepareDragStart:function(e,t,n){var a=this,r=a.el,i=a.options,s=r.ownerDocument,l;if(n&&!d&&n.parentNode===r){var c=S(n);if(k=r,d=n,T=d.parentNode,se=d.nextSibling,Ne=n,Ie=i.group,p.dragged=d,re={target:d,clientX:(t||e).clientX,clientY:(t||e).clientY},yt=re.clientX-c.left,wt=re.clientY-c.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,d.style["will-change"]="all",l=function(){if(P("delayEnded",a,{evt:e}),p.eventCanceled){a._onDrop();return}a._disableDelayedDragEvents(),!mt&&a.nativeDraggable&&(d.draggable=!0),a._triggerDragStart(e,t),A({sortable:a,name:"choose",originalEvent:e}),$(d,i.chosenClass,!0)},i.ignore.split(",").forEach(function(f){St(d,f.trim(),Ze)}),v(s,"dragover",ie),v(s,"mousemove",ie),v(s,"touchmove",ie),i.supportPointer?(v(s,"pointerup",a._onDrop),!this.nativeDraggable&&v(s,"pointercancel",a._onDrop)):(v(s,"mouseup",a._onDrop),v(s,"touchend",a._onDrop),v(s,"touchcancel",a._onDrop)),mt&&this.nativeDraggable&&(this.options.touchStartThreshold=4,d.draggable=!0),P("delayStart",this,{evt:e}),i.delay&&(!i.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(Ce||J))){if(p.eventCanceled){this._onDrop();return}i.supportPointer?(v(s,"pointerup",a._disableDelayedDrag),v(s,"pointercancel",a._disableDelayedDrag)):(v(s,"mouseup",a._disableDelayedDrag),v(s,"touchend",a._disableDelayedDrag),v(s,"touchcancel",a._disableDelayedDrag)),v(s,"mousemove",a._delayedDragTouchMoveHandler),v(s,"touchmove",a._delayedDragTouchMoveHandler),i.supportPointer&&v(s,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(l,i.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){d&&Ze(d),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;g(e,"mouseup",this._disableDelayedDrag),g(e,"touchend",this._disableDelayedDrag),g(e,"touchcancel",this._disableDelayedDrag),g(e,"pointerup",this._disableDelayedDrag),g(e,"pointercancel",this._disableDelayedDrag),g(e,"mousemove",this._delayedDragTouchMoveHandler),g(e,"touchmove",this._delayedDragTouchMoveHandler),g(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?v(document,"pointermove",this._onTouchMove):t?v(document,"touchmove",this._onTouchMove):v(document,"mousemove",this._onTouchMove):(v(d,"dragend",this),v(k,"dragstart",this._onDragStart));try{document.selection?Le(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(de=!1,k&&d){P("dragStarted",this,{evt:t}),this.nativeDraggable&&v(document,"dragover",on);var n=this.options;!e&&$(d,n.dragClass,!1),$(d,n.ghostClass,!0),p.active=this,e&&this._appendGhost(),A({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(z){this._lastX=z.clientX,this._lastY=z.clientY,Mt();for(var e=document.elementFromPoint(z.clientX,z.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(z.clientX,z.clientY),e!==t);)t=e;if(d.parentNode[O]._isOutsideThisEl(e),t)do{if(t[O]){var n=void 0;if(n=t[O]._onDragOver({clientX:z.clientX,clientY:z.clientY,target:e,rootEl:t}),n&&!this.options.dragoverBubble)break}e=t}while(t=Dt(t));Nt()}},_onTouchMove:function(e){if(re){var t=this.options,n=t.fallbackTolerance,a=t.fallbackOffset,r=e.touches?e.touches[0]:e,i=m&&fe(m,!0),s=m&&i&&i.a,l=m&&i&&i.d,c=Pe&&j&&bt(j),f=(r.clientX-re.clientX+a.x)/(s||1)+(c?c[0]-Ve[0]:0)/(s||1),u=(r.clientY-re.clientY+a.y)/(l||1)+(c?c[1]-Ve[1]:0)/(l||1);if(!p.active&&!de){if(n&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(m){i?(i.e+=f-(Ke||0),i.f+=u-(Je||0)):i={a:1,b:0,c:0,d:1,e:f,f:u};var b="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");h(m,"webkitTransform",b),h(m,"mozTransform",b),h(m,"msTransform",b),h(m,"transform",b),Ke=f,Je=u,z=r}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!m){var e=this.options.fallbackOnBody?document.body:k,t=S(d,!0,Pe,!0,e),n=this.options;if(Pe){for(j=e;h(j,"position")==="static"&&h(j,"transform")==="none"&&j!==document;)j=j.parentNode;j!==document.body&&j!==document.documentElement?(j===document&&(j=Y()),t.top+=j.scrollTop,t.left+=j.scrollLeft):j=Y(),Ve=bt(j)}m=d.cloneNode(!0),$(m,n.ghostClass,!1),$(m,n.fallbackClass,!0),$(m,n.dragClass,!0),h(m,"transition",""),h(m,"transform",""),h(m,"box-sizing","border-box"),h(m,"margin",0),h(m,"top",t.top),h(m,"left",t.left),h(m,"width",t.width),h(m,"height",t.height),h(m,"opacity","0.8"),h(m,"position",Pe?"absolute":"fixed"),h(m,"zIndex","100000"),h(m,"pointerEvents","none"),p.ghost=m,e.appendChild(m),h(m,"transform-origin",yt/parseInt(m.style.width)*100+"% "+wt/parseInt(m.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,a=e.dataTransfer,r=n.options;if(P("dragStart",this,{evt:e}),p.eventCanceled){this._onDrop();return}P("setupClone",this),p.eventCanceled||(x=_t(d),x.removeAttribute("id"),x.draggable=!1,x.style["will-change"]="",this._hideClone(),$(x,this.options.chosenClass,!1),p.clone=x),n.cloneId=Le(function(){P("clone",n),!p.eventCanceled&&(n.options.removeCloneOnHide||k.insertBefore(x,d),n._hideClone(),A({sortable:n,name:"clone"}))}),!t&&$(d,r.dragClass,!0),t?(He=!0,n._loopId=setInterval(n._emulateDragOver,50)):(g(document,"mouseup",n._onDrop),g(document,"touchend",n._onDrop),g(document,"touchcancel",n._onDrop),a&&(a.effectAllowed="move",r.setData&&r.setData.call(n,a,d)),v(document,"drop",n),h(d,"transform","translateZ(0)")),de=!0,n._dragStartId=Le(n._dragStarted.bind(n,t,e)),v(document,"selectstart",n),ye=!0,window.getSelection().removeAllRanges(),ke&&h(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,n=e.target,a,r,i,s=this.options,l=s.group,c=p.active,f=Ie===l,u=s.sort,b=C||c,E,y=this,w=!1;if(nt)return;function F(be,Ht){P(be,y,G({evt:e,isOwner:f,axis:E?"vertical":"horizontal",revert:i,dragRect:a,targetRect:r,canSort:u,fromSortable:b,target:n,completed:I,onMove:function(ht,zt){return Oe(k,t,d,a,ht,S(ht),e,zt)},changed:H},Ht))}function W(){F("dragOverAnimationCapture"),y.captureAnimationState(),y!==b&&b.captureAnimationState()}function I(be){return F("dragOverCompleted",{insertion:be}),be&&(f?c._hideClone():c._showClone(y),y!==b&&($(d,C?C.options.ghostClass:c.options.ghostClass,!1),$(d,s.ghostClass,!0)),C!==y&&y!==p.active?C=y:y===p.active&&C&&(C=null),b===y&&(y._ignoreWhileAnimating=n),y.animateAll(function(){F("dragOverAnimationComplete"),y._ignoreWhileAnimating=null}),y!==b&&(b.animateAll(),b._ignoreWhileAnimating=null)),(n===d&&!d.animated||n===t&&!n.animated)&&(ce=null),!s.dragoverBubble&&!e.rootEl&&n!==document&&(d.parentNode[O]._isOutsideThisEl(e.target),!be&&ie(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),w=!0}function H(){L=B(d),Q=B(d,s.draggable),A({sortable:y,name:"change",toEl:t,newIndex:L,newDraggableIndex:Q,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),n=R(n,s.draggable,t,!0),F("dragOver"),p.eventCanceled)return w;if(d.contains(e.target)||n.animated&&n.animatingX&&n.animatingY||y._ignoreWhileAnimating===n)return I(!1);if(He=!1,c&&!s.disabled&&(f?u||(i=T!==k):C===this||(this.lastPutMode=Ie.checkPull(this,c,d,e))&&l.checkPut(this,c,d,e))){if(E=this._getDirection(e,n)==="vertical",a=S(d),F("dragOverValid"),p.eventCanceled)return w;if(i)return T=k,W(),this._hideClone(),F("revert"),p.eventCanceled||(se?k.insertBefore(d,se):k.appendChild(d)),I(!0);var M=ct(t,s.draggable);if(!M||ln(e,E,this)&&!M.animated){if(M===d)return I(!1);if(M&&t===e.target&&(n=M),n&&(r=S(n)),Oe(k,t,d,a,n,r,e,!!n)!==!1)return W(),M&&M.nextSibling?t.insertBefore(d,M.nextSibling):t.appendChild(d),T=t,H(),I(!0)}else if(M&&sn(e,E,this)){var ne=he(t,0,s,!0);if(ne===d)return I(!1);if(n=ne,r=S(n),Oe(k,t,d,a,n,r,e,!1)!==!1)return W(),t.insertBefore(d,ne),T=t,H(),I(!0)}else if(n.parentNode===t){r=S(n);var X=0,oe,pe=d.parentNode!==t,N=!tn(d.animated&&d.toRect||a,n.animated&&n.toRect||r,E),me=E?"top":"left",V=vt(n,"top","top")||vt(d,"top","top"),ge=V?V.scrollTop:void 0;ce!==n&&(oe=r[me],Se=!1,Ae=!N&&s.invertSwap||pe),X=cn(e,n,r,E,N?1:s.swapThreshold,s.invertedSwapThreshold==null?s.swapThreshold:s.invertedSwapThreshold,Ae,ce===n);var q;if(X!==0){var ae=B(d);do ae-=X,q=T.children[ae];while(q&&(h(q,"display")==="none"||q===m))}if(X===0||q===n)return I(!1);ce=n,De=X;var ve=n.nextElementSibling,Z=!1;Z=X===1;var _e=Oe(k,t,d,a,n,r,e,Z);if(_e!==!1)return(_e===1||_e===-1)&&(Z=_e===1),nt=!0,setTimeout(rn,30),W(),Z&&!ve?t.appendChild(d):n.parentNode.insertBefore(d,Z?ve:n),V&&jt(V,0,ge-V.scrollTop),T=d.parentNode,oe!==void 0&&!Ae&&($e=Math.abs(oe-S(n)[me])),H(),I(!0)}if(t.contains(d))return I(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){g(document,"mousemove",this._onTouchMove),g(document,"touchmove",this._onTouchMove),g(document,"pointermove",this._onTouchMove),g(document,"dragover",ie),g(document,"mousemove",ie),g(document,"touchmove",ie)},_offUpEvents:function(){var e=this.el.ownerDocument;g(e,"mouseup",this._onDrop),g(e,"touchend",this._onDrop),g(e,"pointerup",this._onDrop),g(e,"pointercancel",this._onDrop),g(e,"touchcancel",this._onDrop),g(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;if(L=B(d),Q=B(d,n.draggable),P("drop",this,{evt:e}),T=d&&d.parentNode,L=B(d),Q=B(d,n.draggable),p.eventCanceled){this._nulling();return}de=!1,Ae=!1,Se=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),ot(this.cloneId),ot(this._dragStartId),this.nativeDraggable&&(g(document,"drop",this),g(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),ke&&h(document.body,"user-select",""),h(d,"transform",""),e&&(ye&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),m&&m.parentNode&&m.parentNode.removeChild(m),(k===T||C&&C.lastPutMode!=="clone")&&x&&x.parentNode&&x.parentNode.removeChild(x),d&&(this.nativeDraggable&&g(d,"dragend",this),Ze(d),d.style["will-change"]="",ye&&!de&&$(d,C?C.options.ghostClass:this.options.ghostClass,!1),$(d,this.options.chosenClass,!1),A({sortable:this,name:"unchoose",toEl:T,newIndex:null,newDraggableIndex:null,originalEvent:e}),k!==T?(L>=0&&(A({rootEl:T,name:"add",toEl:T,fromEl:k,originalEvent:e}),A({sortable:this,name:"remove",toEl:T,originalEvent:e}),A({rootEl:T,name:"sort",toEl:T,fromEl:k,originalEvent:e}),A({sortable:this,name:"sort",toEl:T,originalEvent:e})),C&&C.save()):L!==ue&&L>=0&&(A({sortable:this,name:"update",toEl:T,originalEvent:e}),A({sortable:this,name:"sort",toEl:T,originalEvent:e})),p.active&&((L==null||L===-1)&&(L=ue,Q=Te),A({sortable:this,name:"end",toEl:T,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){P("nulling",this),k=d=T=m=se=x=Ne=ee=re=z=ye=L=Q=ue=Te=ce=De=C=Ie=p.dragged=p.ghost=p.clone=p.active=null,Re.forEach(function(e){e.checked=!0}),Re.length=Ke=Je=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":d&&(this._onDragOver(e),an(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,n=this.el.children,a=0,r=n.length,i=this.options;a<r;a++)t=n[a],R(t,i.draggable,this.el,!1)&&e.push(t.getAttribute(i.dataIdAttr)||un(t));return e},sort:function(e,t){var n={},a=this.el;this.toArray().forEach(function(r,i){var s=a.children[i];R(s,this.options.draggable,a,!1)&&(n[r]=s)},this),t&&this.captureAnimationState(),e.forEach(function(r){n[r]&&(a.removeChild(n[r]),a.appendChild(n[r]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return R(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(t===void 0)return n[e];var a=je.modifyOption(this,e,t);typeof a<"u"?n[e]=a:n[e]=t,e==="group"&&Ot(n)},destroy:function(){P("destroy",this);var e=this.el;e[O]=null,g(e,"mousedown",this._onTapStart),g(e,"touchstart",this._onTapStart),g(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(g(e,"dragover",this),g(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),ze.splice(ze.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ee){if(P("hideClone",this),p.eventCanceled)return;h(x,"display","none"),this.options.removeCloneOnHide&&x.parentNode&&x.parentNode.removeChild(x),ee=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(ee){if(P("showClone",this),p.eventCanceled)return;d.parentNode==k&&!this.options.group.revertClone?k.insertBefore(x,d):se?k.insertBefore(x,se):k.appendChild(x),this.options.group.revertClone&&this.animate(d,x),h(x,"display",""),ee=!1}}};function an(o){o.dataTransfer&&(o.dataTransfer.dropEffect="move"),o.cancelable&&o.preventDefault()}function Oe(o,e,t,n,a,r,i,s){var l,c=o[O],f=c.options.onMove,u;return window.CustomEvent&&!J&&!Ce?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=o,l.dragged=t,l.draggedRect=n,l.related=a||e,l.relatedRect=r||S(e),l.willInsertAfter=s,l.originalEvent=i,o.dispatchEvent(l),f&&(u=f.call(c,l,i)),u}function Ze(o){o.draggable=!1}function rn(){nt=!1}function sn(o,e,t){var n=S(he(t.el,0,t.options,!0)),a=It(t.el,t.options,m),r=10;return e?o.clientX<a.left-r||o.clientY<n.top&&o.clientX<n.right:o.clientY<a.top-r||o.clientY<n.bottom&&o.clientX<n.left}function ln(o,e,t){var n=S(ct(t.el,t.options.draggable)),a=It(t.el,t.options,m),r=10;return e?o.clientX>a.right+r||o.clientY>n.bottom&&o.clientX>n.left:o.clientY>a.bottom+r||o.clientX>n.right&&o.clientY>n.top}function cn(o,e,t,n,a,r,i,s){var l=n?o.clientY:o.clientX,c=n?t.height:t.width,f=n?t.top:t.left,u=n?t.bottom:t.right,b=!1;if(!i){if(s&&$e<c*a){if(!Se&&(De===1?l>f+c*r/2:l<u-c*r/2)&&(Se=!0),Se)b=!0;else if(De===1?l<f+$e:l>u-$e)return-De}else if(l>f+c*(1-a)/2&&l<u-c*(1-a)/2)return dn(e)}return b=b||i,b&&(l<f+c*r/2||l>u-c*r/2)?l>f+c/2?1:-1:0}function dn(o){return B(d)<B(o)?1:-1}function un(o){for(var e=o.tagName+o.className+o.src+o.href+o.textContent,t=e.length,n=0;t--;)n+=e.charCodeAt(t);return n.toString(36)}function fn(o){Re.length=0;for(var e=o.getElementsByTagName("input"),t=e.length;t--;){var n=e[t];n.checked&&Re.push(n)}}function Le(o){return setTimeout(o,0)}function ot(o){return clearTimeout(o)}Ye&&v(document,"touchmove",function(o){(p.active||de)&&o.cancelable&&o.preventDefault()});p.utils={on:v,off:g,css:h,find:St,is:function(e,t){return!!R(e,t,e,!1)},extend:qt,throttle:Ct,closest:R,toggleClass:$,clone:_t,index:B,nextTick:Le,cancelNextTick:ot,detectDirection:Pt,getChild:he,expando:O};p.get=function(o){return o[O]};p.mount=function(){for(var o=arguments.length,e=new Array(o),t=0;t<o;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(p.utils=G(G({},p.utils),n.utils)),je.mount(n)})};p.create=function(o,e){return new p(o,e)};p.version=Gt;var D=[],we,at,rt=!1,Qe,et,Xe,Ee;function hn(){function o(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return o.prototype={dragStarted:function(t){var n=t.originalEvent;this.sortable.nativeDraggable?v(document,"dragover",this._handleAutoScroll):this.options.supportPointer?v(document,"pointermove",this._handleFallbackAutoScroll):n.touches?v(document,"touchmove",this._handleFallbackAutoScroll):v(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var n=t.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?g(document,"dragover",this._handleAutoScroll):(g(document,"pointermove",this._handleFallbackAutoScroll),g(document,"touchmove",this._handleFallbackAutoScroll),g(document,"mousemove",this._handleFallbackAutoScroll)),kt(),Be(),Ut()},nulling:function(){Xe=at=we=rt=Ee=Qe=et=null,D.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,n){var a=this,r=(t.touches?t.touches[0]:t).clientX,i=(t.touches?t.touches[0]:t).clientY,s=document.elementFromPoint(r,i);if(Xe=t,n||this.options.forceAutoScrollFallback||Ce||J||ke){tt(t,this.options,s,n);var l=te(s,!0);rt&&(!Ee||r!==Qe||i!==et)&&(Ee&&kt(),Ee=setInterval(function(){var c=te(document.elementFromPoint(r,i),!0);c!==l&&(l=c,Be()),tt(t,a.options,c,n)},10),Qe=r,et=i)}else{if(!this.options.bubbleScroll||te(s,!0)===Y()){Be();return}tt(t,this.options,te(s,!1),!1)}}},K(o,{pluginName:"scroll",initializeByDefault:!0})}function Be(){D.forEach(function(o){clearInterval(o.pid)}),D=[]}function kt(){clearInterval(Ee)}var tt=Ct(function(o,e,t,n){if(e.scroll){var a=(o.touches?o.touches[0]:o).clientX,r=(o.touches?o.touches[0]:o).clientY,i=e.scrollSensitivity,s=e.scrollSpeed,l=Y(),c=!1,f;at!==t&&(at=t,Be(),we=e.scroll,f=e.scrollFn,we===!0&&(we=te(t,!0)));var u=0,b=we;do{var E=b,y=S(E),w=y.top,F=y.bottom,W=y.left,I=y.right,H=y.width,M=y.height,ne=void 0,X=void 0,oe=E.scrollWidth,pe=E.scrollHeight,N=h(E),me=E.scrollLeft,V=E.scrollTop;E===l?(ne=H<oe&&(N.overflowX==="auto"||N.overflowX==="scroll"||N.overflowX==="visible"),X=M<pe&&(N.overflowY==="auto"||N.overflowY==="scroll"||N.overflowY==="visible")):(ne=H<oe&&(N.overflowX==="auto"||N.overflowX==="scroll"),X=M<pe&&(N.overflowY==="auto"||N.overflowY==="scroll"));var ge=ne&&(Math.abs(I-a)<=i&&me+H<oe)-(Math.abs(W-a)<=i&&!!me),q=X&&(Math.abs(F-r)<=i&&V+M<pe)-(Math.abs(w-r)<=i&&!!V);if(!D[u])for(var ae=0;ae<=u;ae++)D[ae]||(D[ae]={});(D[u].vx!=ge||D[u].vy!=q||D[u].el!==E)&&(D[u].el=E,D[u].vx=ge,D[u].vy=q,clearInterval(D[u].pid),(ge!=0||q!=0)&&(c=!0,D[u].pid=setInterval((function(){n&&this.layer===0&&p.active._onTouchMove(Xe);var ve=D[this.layer].vy?D[this.layer].vy*s:0,Z=D[this.layer].vx?D[this.layer].vx*s:0;typeof f=="function"&&f.call(p.dragged.parentNode[O],Z,ve,o,Xe,D[this.layer].el)!=="continue"||jt(D[this.layer].el,Z,ve)}).bind({layer:u}),24))),u++}while(e.bubbleScroll&&b!==l&&(b=te(b,!1)));rt=c}},30),$t=function(e){var t=e.originalEvent,n=e.putSortable,a=e.dragEl,r=e.activeSortable,i=e.dispatchSortableEvent,s=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(t){var c=n||r;s();var f=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(f.clientX,f.clientY);l(),c&&!c.el.contains(u)&&(i("spill"),this.onSpill({dragEl:a,putSortable:n}))}};function dt(){}dt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var a=he(this.sortable.el,this.startIndex,this.options);a?this.sortable.el.insertBefore(t,a):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:$t};K(dt,{pluginName:"revertOnSpill"});function ut(){}ut.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable,a=n||this.sortable;a.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),a.animateAll()},drop:$t};K(ut,{pluginName:"removeOnSpill"});p.mount(new hn);p.mount(ut,dt);class pn{storageKey="kanban-board-data";data;constructor(){this.data=this.loadData(),this.init()}init(){this.renderProjects(),this.renderAllTasks(),this.initializeDragAndDrop(),this.updateAllColumnCounts(),this.populateProjectDropdown(),console.log("Dynamic Kanban board initialized successfully!")}loadData(){const e=localStorage.getItem(this.storageKey);if(e)try{const t=JSON.parse(e);return t.archivedTasks||(t.archivedTasks=[]),t}catch(t){return console.error("Error parsing stored data:",t),this.getDefaultData()}return this.getDefaultData()}saveData(){localStorage.setItem(this.storageKey,JSON.stringify(this.data)),console.log("Data saved to localStorage")}getDefaultData(){return{projects:[{id:"mast",name:"Mast",starred:!0,color:"fuchsia"},{id:"bluejay",name:"Bluejay",starred:!0,color:"blue"},{id:"dabble",name:"Dabble",starred:!1,color:"purple"},{id:"highlight",name:"Highlight",starred:!1,color:"cyan"},{id:"figmate",name:"Figmate",starred:!1,color:"orange"},{id:"gwp",name:"GWP",starred:!1,color:"green"},{id:"launchpad",name:"LaunchPad",starred:!1,color:"violet"},{id:"rev",name:"Rev",starred:!1,color:"red"}],archivedTasks:[],columns:{"up-next":{id:"up-next",title:"Up Next",tasks:[{id:"task-1",title:"Update ticket designs in modal.",assignee:"Brantley Mathis",project:"Mast",projectColor:"fuchsia",time:"20h",status:"blocked",avatar:"https://picsum.photos/20?6"},{id:"task-2",title:"Create page layout for onboarding.",assignee:"Sarah Wilson",project:"Bluejay",projectColor:"blue",time:"15h",status:"paused",avatar:"https://picsum.photos/20?1"},{id:"task-3",title:"Polish designs and reach out to dev.",assignee:"Alex Chen",project:"Dabble",projectColor:"purple",time:"8h",avatar:"https://picsum.photos/20?2"},{id:"task-4",title:"Remote user approvals/comments",assignee:"Jordan Taylor",project:"GWP",projectColor:"green",time:"12h",avatar:"https://picsum.photos/20?3"},{id:"task-5",title:"Redo landing page for Sono Dojo",assignee:"Morgan Davis",project:"Figmate",projectColor:"orange",time:"25h",status:"cancelled",avatar:"https://picsum.photos/20?4"}]},"in-progress":{id:"in-progress",title:"In Progress",tasks:[{id:"task-6",title:"Include lien waiver questionnaire statement.",assignee:"Ivan Erickson",project:"Bluejay",projectColor:"blue",time:"5h",avatar:"https://picsum.photos/20?7"},{id:"task-7",title:"Button Styling Concepts",assignee:"Tori Bates",project:"Mast",projectColor:"fuchsia",time:"10h",status:"done",avatar:"https://picsum.photos/20?8"}]},"in-review":{id:"in-review",title:"In Review",tasks:[{id:"task-8",title:"Add Search Bar.",assignee:"Sabrina Dobson",project:"Highlight",projectColor:"cyan",hasApproval:!0,status:"done",avatar:"https://picsum.photos/20?9"},{id:"task-9",title:"Update Material Editor Info.",assignee:"Ellis Ochoa",project:"LaunchPad",projectColor:"violet",hasApproval:!0,avatar:"https://picsum.photos/20?10"},{id:"task-10",title:"Add Membership Renewal Button.",assignee:"Glenn Jones",project:"Rev",projectColor:"red",hasApproval:!0,status:"blocked",avatar:"https://picsum.photos/20?11"}]}}}}createTaskElement(e){const t=document.createElement("article");t.className="task-card mx-2 rounded-lg border border-zinc-800 bg-zinc-800/60 p-3 shadow-sm hover:border-zinc-700 fade-in-up",t.setAttribute("data-kanban-task","true"),t.setAttribute("data-task-id",e.id);const n={fuchsia:"bg-fuchsia-700/40 text-fuchsia-300",blue:"bg-blue-700/40 text-blue-300",purple:"bg-purple-700/40 text-purple-300",green:"bg-green-700/40 text-green-300",orange:"bg-orange-700/40 text-orange-300",cyan:"bg-cyan-700/40 text-cyan-300",violet:"bg-violet-700/40 text-violet-300",red:"bg-red-700/40 text-red-300",yellow:"bg-yellow-700/40 text-yellow-300",pink:"bg-pink-700/40 text-pink-300"},a={blocked:{class:"bg-red-900/50 text-red-300 border-red-800/60",text:"Blocked",icon:"fas fa-ban"},paused:{class:"bg-yellow-900/50 text-yellow-300 border-yellow-800/60",text:"Paused",icon:"fas fa-pause"},cancelled:{class:"bg-gray-900/50 text-gray-400 border-gray-800/60",text:"Cancelled",icon:"fas fa-times"},done:{class:"bg-green-900/50 text-green-300 border-green-800/60",text:"Done",icon:"fas fa-check"}},r=n[e.projectColor]||"bg-gray-700/40 text-gray-300",i=e.status&&a[e.status]?`
      <div class="mb-2 flex items-center justify-between">
        <span class="inline-flex items-center gap-1 rounded border ${a[e.status].class} px-2 py-0.5 text-[10px] font-medium cursor-pointer hover:opacity-80 transition-opacity flex-shrink-0" data-action="toggle-status" data-task-id="${e.id}">
          <i class="${a[e.status].icon} text-xs"></i>
          ${a[e.status].text}
        </span>
        <button data-action="archive-task" data-task-id="${e.id}" class="p-1 hover:bg-red-700/20 hover:text-red-400 rounded transition-all duration-200 flex-shrink-0" title="Archive task">
          <i class="fas fa-archive text-zinc-500 hover:text-red-400 text-sm"></i>
        </button>
      </div>
    `:`
      <div class="mb-2 flex items-center justify-between">
        <span class="inline-flex items-center gap-1 rounded border bg-zinc-800/60 text-zinc-400 border-zinc-700/60 px-2 py-0.5 text-[10px] font-medium cursor-pointer hover:bg-zinc-700/60 transition-colors flex-shrink-0" data-action="set-status" data-task-id="${e.id}">
          <i class="fas fa-plus text-xs"></i>
          Status
        </span>
        <button data-action="archive-task" data-task-id="${e.id}" class="p-1 hover:bg-red-700/20 hover:text-red-400 rounded transition-all duration-200 flex-shrink-0" title="Archive task">
          <i class="fas fa-archive text-zinc-500 hover:text-red-400 text-sm"></i>
        </button>
      </div>
    `,s=e.hasApproval?`
      <div class="mt-2 flex gap-2">
        <button data-action="approve-task" data-task-id="${e.id}" class="px-2 py-1 text-[12px] rounded bg-emerald-700/40 text-emerald-300 border border-emerald-800/60">
          Approve
        </button>
      </div>
    `:"",l=e.time?`<span class="text-[11px] text-zinc-400 flex-shrink-0">${this.escapeHtml(e.time)}</span>`:"",c=this.truncateText(e.title,80);return t.innerHTML=`
      ${i}
      <header class="flex items-start justify-between group">
        <h3 class="text-sm font-medium pr-2 break-words-force min-w-0 flex-1" title="${this.escapeHtml(e.title)}">${this.escapeHtml(c)}</h3>
        <div class="flex items-center gap-1 flex-shrink-0">
          ${l}
        </div>
      </header>
      ${s}
      <footer class="mt-2 flex items-center justify-between">
        <div class="flex items-center gap-2 min-w-0 flex-1">
          <img class="h-5 w-5 rounded-full flex-shrink-0" src="${e.avatar}" alt="${this.escapeHtml(e.assignee)}">
          <span class="task-assignee text-xs text-zinc-300 truncate" title="${this.escapeHtml(e.assignee)}">${this.escapeHtml(e.assignee)}</span>
        </div>
        <div class="flex items-center gap-1 flex-shrink-0">
          <span class="task-project rounded ${r} px-2 py-0.5 text-[11px] truncate max-w-24" title="${this.escapeHtml(e.project)}">${this.escapeHtml(e.project)}</span>
        </div>
      </footer>
    `,t}truncateText(e,t){return e.length<=t?e:e.substring(0,t)+"..."}renderProjects(){const e=document.getElementById("project-list"),t=document.getElementById("mobile-project-list");[e,t].forEach(a=>{a&&(a.innerHTML="")}),[...this.data.projects].sort((a,r)=>a.starred&&!r.starred?-1:!a.starred&&r.starred?1:0).forEach(a=>{const r=`
        <div class="project-item group flex items-center justify-between px-2 py-2 rounded-md hover:bg-zinc-800 text-zinc-300">
          <a class="flex items-center gap-2 min-w-0 flex-1 cursor-pointer" href="#" data-project-id="${a.id}">
            ${a.starred?'<i class="fas fa-star text-amber-400 text-xs flex-shrink-0"></i>':""}
            <span class="project-name truncate text-sm" title="${this.escapeHtml(a.name)}">${this.escapeHtml(a.name)}</span>
          </a>
          <div class="flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0">
            <button class="project-star-btn p-1 hover:bg-zinc-700 rounded" data-project-id="${a.id}" title="${a.starred?"Unstar project":"Star project"}">
              <i class="fas fa-star text-xs ${a.starred?"text-amber-400":"text-zinc-500"}"></i>
            </button>
            <button class="project-delete-btn p-1 hover:bg-red-600 rounded" data-project-id="${a.id}" title="Delete project">
              <i class="fas fa-trash text-xs text-zinc-500 hover:text-white"></i>
            </button>
          </div>
        </div>
      `;[e,t].forEach(i=>{if(i){const s=document.createElement("li");s.innerHTML=r,i.appendChild(s)}})}),document.querySelectorAll(".project-star-btn").forEach(a=>{a.addEventListener("click",r=>{r.preventDefault(),r.stopPropagation();const i=r.currentTarget.getAttribute("data-project-id");i&&this.toggleProjectStar(i)})}),document.querySelectorAll(".project-delete-btn").forEach(a=>{a.addEventListener("click",r=>{r.preventDefault(),r.stopPropagation();const i=r.currentTarget.getAttribute("data-project-id");i&&this.deleteProject(i)})}),console.log("Projects rendered in sidebar")}escapeHtml(e){const t=document.createElement("div");return t.textContent=e,t.innerHTML}toggleProjectStar(e){const t=this.data.projects.find(n=>n.id===e);t&&(t.starred=!t.starred,this.saveData(),this.renderProjects(),console.log(`Project ${t.name} star toggled to ${t.starred}`))}deleteProject(e){const t=this.data.projects.findIndex(r=>r.id===e);if(t===-1)return;const n=this.data.projects[t];confirm(`Are you sure you want to delete the project "${n.name}"?

This action cannot be undone and will remove the project from all tasks.`)&&(this.data.projects.splice(t,1),Object.keys(this.data.columns).forEach(r=>{this.data.columns[r].tasks.forEach(s=>{s.project===n.name&&(s.project="")})}),this.data.archivedTasks&&this.data.archivedTasks.forEach(r=>{r.project===n.name&&(r.project="")}),this.saveData(),this.renderProjects(),this.renderAllTasks(),console.log(`Project "${n.name}" deleted`))}renderAllTasks(){Object.keys(this.data.columns).forEach(e=>{this.renderColumnTasks(e)})}renderColumnTasks(e){const t=document.querySelector(`[data-kanban-column="${e}"]`),n=this.data.columns[e];!t||!n||(t.innerHTML="",n.tasks.forEach(a=>{const r=this.createTaskElement(a);t.appendChild(r)}),this.updateColumnCount(e))}updateColumnCount(e){const t=document.querySelector(`[data-kanban-column="${e}"]`);if(!t)return;const n=t.closest(".bg-zinc-900")?.querySelector(".text-zinc-400"),a=this.data.columns[e]?.tasks.length||0;n&&(n.textContent=a.toString())}updateAllColumnCounts(){Object.keys(this.data.columns).forEach(e=>{this.updateColumnCount(e)})}moveTask(e,t,n){const a=this.data.columns[t],r=this.data.columns[n];if(!a||!r)return;const i=a.tasks.findIndex(l=>l.id===e);if(i===-1)return;const s=a.tasks.splice(i,1)[0];r.tasks.push(s),this.saveData(),console.log(`Task "${s.title}" moved from ${t} to ${n}`)}addTask(e,t){const n=this.data.columns[e];if(!n)return;const a={id:"task-"+Date.now(),title:t.title||"New Task",assignee:t.assignee||"Unassigned",project:t.project||"General",projectColor:t.projectColor||"gray",time:t.time||"",avatar:t.avatar||"https://picsum.photos/20?0",hasApproval:e==="in-review"};return n.tasks.push(a),this.saveData(),this.renderColumnTasks(e),console.log(`New task "${a.title}" added to ${e}`),a}removeTask(e){Object.keys(this.data.columns).forEach(t=>{const n=this.data.columns[t],a=n.tasks.findIndex(r=>r.id===e);if(a!==-1){const r=n.tasks.splice(a,1)[0];this.saveData(),this.renderColumnTasks(t),console.log(`Task "${r.title}" removed from ${t}`);return}})}approveTask(e){console.log(`Task ${e} approved`),this.removeTask(e)}updateTaskStatus(e,t){let n=null,a=null;Object.keys(this.data.columns).forEach(r=>{const i=this.data.columns[r],s=i.tasks.findIndex(l=>l.id===e);s!==-1&&(n=i.tasks[s],a=r)}),n&&a&&(t?n.status=t:delete n.status,this.saveData(),this.renderColumnTasks(a),console.log(`Task "${n.title}" status updated to: ${t||"No Status"}`))}getAvailableStatuses(){return[{value:"",label:"No Status",icon:""},{value:"blocked",label:"Blocked",icon:"fas fa-ban"},{value:"paused",label:"Paused",icon:"fas fa-pause"},{value:"cancelled",label:"Cancelled",icon:"fas fa-times"},{value:"done",label:"Done",icon:"fas fa-check"}]}archiveTask(e){let t=null,n=null;if(Object.keys(this.data.columns).forEach(a=>{const r=this.data.columns[a],i=r.tasks.findIndex(s=>s.id===e);i!==-1&&(t=r.tasks[i],n=a)}),t&&n){if(!confirm(`Are you sure you want to archive "${t.title}"?

This will move the task to your archive where you can restore it later.`))return;const r=this.data.columns[n],i=r.tasks.findIndex(l=>l.id===e),s=r.tasks.splice(i,1)[0];s.archivedAt=new Date().toISOString(),s.archivedFrom=n,this.data.archivedTasks||(this.data.archivedTasks=[]),this.data.archivedTasks.push(s),this.saveData(),this.renderColumnTasks(n),this.updateAllColumnCounts(),console.log(`Task "${s.title}" archived from ${n}`),this.showNotification(`Task "${s.title}" has been archived`,"success")}}restoreTask(e,t){if(!this.data.archivedTasks)return;const n=this.data.archivedTasks.findIndex(s=>s.id===e);if(n===-1)return;const a=this.data.archivedTasks.splice(n,1)[0],r=a.archivedFrom||"up-next";delete a.archivedAt,delete a.archivedFrom;const i=t||r;this.data.columns[i]&&(this.data.columns[i].tasks.push(a),this.saveData(),this.renderColumnTasks(i),this.updateAllColumnCounts(),console.log(`Task "${a.title}" restored to ${i}`),this.showNotification(`Task "${a.title}" restored`,"success"))}getArchivedTasks(){return this.data.archivedTasks||[]}deleteArchivedTask(e){if(!this.data.archivedTasks)return;const t=this.data.archivedTasks.findIndex(n=>n.id===e);if(t!==-1){const n=this.data.archivedTasks.splice(t,1)[0];this.saveData(),console.log(`Task "${n.title}" permanently deleted`),this.showNotification(`Task "${n.title}" permanently deleted`,"info")}}showNotification(e,t="info"){const n=document.createElement("div");n.className=`fixed top-4 right-4 z-50 px-4 py-2 rounded-lg text-sm font-medium transition-all duration-300 transform translate-x-full ${t==="success"?"bg-green-600 text-white":t==="error"?"bg-red-600 text-white":"bg-blue-600 text-white"}`,n.textContent=e,document.body.appendChild(n),setTimeout(()=>{n.classList.remove("translate-x-full")},10),setTimeout(()=>{n.classList.add("translate-x-full"),setTimeout(()=>{n.remove()},300)},3e3)}addProject(e){const t={id:e.name.toLowerCase().replace(/\s+/g,"-"),name:e.name,starred:e.starred||!1,color:e.color||"blue"};return this.data.projects.push(t),this.saveData(),this.renderProjects(),this.populateProjectDropdown(),console.log(`New project "${t.name}" added`),t}removeProject(e){const t=this.data.projects.findIndex(n=>n.id===e);if(t!==-1){const n=this.data.projects.splice(t,1)[0];return this.saveData(),this.renderProjects(),this.populateProjectDropdown(),console.log(`Project "${n.name}" removed`),n}}populateProjectDropdown(){const e=document.getElementById("taskProject");e&&(e.innerHTML="",this.data.projects.forEach(t=>{const n=document.createElement("option");n.value=t.id,n.textContent=t.name,e.appendChild(n)}))}initializeDragAndDrop(){document.querySelectorAll("[data-kanban-column]").forEach(t=>{new p(t,{group:"kanban-tasks",animation:150,ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",onStart:n=>{console.log("Drag started:",n.item.querySelector("h3")?.textContent)},onEnd:n=>{const a=n.item.getAttribute("data-task-id"),r=n.from.getAttribute("data-kanban-column"),i=n.to.getAttribute("data-kanban-column");a&&r&&i&&r!==i&&(this.moveTask(a,r,i),this.updateAllColumnCounts())}})}),console.log("Drag and drop initialized for all columns")}resetData(){this.data=this.getDefaultData(),this.saveData(),this.renderProjects(),this.renderAllTasks(),this.updateAllColumnCounts(),this.populateProjectDropdown(),console.log("Data reset to defaults")}exportData(){const e=JSON.stringify(this.data,null,2),t=new Blob([e],{type:"application/json"}),n=URL.createObjectURL(t),a=document.createElement("a");a.href=n,a.download="kanban-board-data.json",a.click(),console.log("Data exported")}importData(e){try{this.data=JSON.parse(e),this.saveData(),this.renderProjects(),this.renderAllTasks(),this.updateAllColumnCounts(),this.populateProjectDropdown(),console.log("Data imported successfully")}catch(t){console.error("Error importing data:",t)}}}function Lt(){document.getElementById("newTaskModal")?.classList.add("show"),document.getElementById("taskTitle")?.focus()}function Ge(){document.getElementById("newTaskModal")?.classList.remove("show"),document.getElementById("newTaskForm")?.reset()}function Bt(){document.getElementById("newProjectModal")?.classList.add("show"),document.getElementById("projectName")?.focus()}function We(){document.getElementById("newProjectModal")?.classList.remove("show"),document.getElementById("newProjectForm")?.reset()}function Ft(){document.getElementById("archiveModal")?.classList.add("show"),it()}function ft(){document.getElementById("archiveModal")?.classList.remove("show")}function it(){const o=document.getElementById("archivedTasksList");if(!o)return;const e=_.getArchivedTasks();if(e.length===0){o.innerHTML=`
      <div class="text-center py-8 text-zinc-400">
        <i class="fas fa-archive text-4xl mb-4 opacity-50"></i>
        <p>No archived tasks</p>
      </div>
    `;return}o.innerHTML=e.map(t=>{const n=new Date(t.archivedAt).toLocaleDateString(),a=t.status?`
      <span class="inline-flex items-center gap-1 rounded border px-2 py-0.5 text-[10px] font-medium ${mn(t.status)}">
        <i class="${gn(t.status)}"></i> ${t.status.charAt(0).toUpperCase()+t.status.slice(1)}
      </span>
    `:"";return`
      <div class="bg-zinc-800/60 border border-zinc-700 rounded-lg p-4">
        <div class="flex justify-between items-start mb-2">
          <div class="flex-1">
            <h3 class="font-medium text-zinc-100 mb-1">${t.title}</h3>
            ${a}
          </div>
          <div class="flex gap-2 ml-4">
            <button data-action="restore-task" data-task-id="${t.id}" class="px-2 py-1 text-xs bg-blue-600 hover:bg-blue-700 text-white rounded transition-colors">
              Restore
            </button>
            <button data-action="delete-archived-task" data-task-id="${t.id}" class="px-2 py-1 text-xs bg-red-600 hover:bg-red-700 text-white rounded transition-colors">
              Delete
            </button>
          </div>
        </div>
        <div class="flex justify-between items-center text-xs text-zinc-400">
          <div class="flex items-center gap-4">
            <span><i class="fas fa-user"></i> ${t.assignee}</span>
            <span><i class="fas fa-folder"></i> ${t.project}</span>
            ${t.time?`<span><i class="fas fa-clock"></i> ${t.time}</span>`:""}
          </div>
          <div>
            <span>Archived ${n}</span>
          </div>
        </div>
      </div>
    `}).join("")}function mn(o){return{blocked:"bg-red-900/50 text-red-300 border-red-800/60",paused:"bg-yellow-900/50 text-yellow-300 border-yellow-800/60",cancelled:"bg-gray-900/50 text-gray-400 border-gray-800/60",done:"bg-green-900/50 text-green-300 border-green-800/60"}[o]||"bg-zinc-700/40 text-zinc-300"}function gn(o){return{blocked:"fas fa-ban",paused:"fas fa-pause",cancelled:"fas fa-times",done:"fas fa-check"}[o]||""}function vn(o,e){const t=document.querySelector(".status-menu");t&&t.remove();const n=_.getAvailableStatuses(),a=document.createElement("div");a.className="status-menu absolute z-50 bg-zinc-800 border border-zinc-700 rounded-lg shadow-lg p-1 min-w-[120px]",n.forEach(s=>{const l=document.createElement("button");l.className="w-full text-left px-2 py-1.5 text-xs rounded hover:bg-zinc-700 text-zinc-300 flex items-center gap-2",l.innerHTML=`
      ${s.icon?`<i class="${s.icon}"></i>`:""}
      <span>${s.label}</span>
    `,l.addEventListener("click",()=>{_.updateTaskStatus(o,s.value||null),a.remove()}),a.appendChild(l)});const r=e.getBoundingClientRect();a.style.left=`${r.left}px`,a.style.top=`${r.bottom+5}px`,document.body.appendChild(a);const i=s=>{a.contains(s.target)||(a.remove(),document.removeEventListener("click",i))};setTimeout(()=>{document.addEventListener("click",i)},10)}function bn(o){o.preventDefault();const e=document.getElementById("taskTitle"),t=document.getElementById("taskAssignee"),n=document.getElementById("taskProject"),a=document.getElementById("taskTime"),r=document.getElementById("taskColumn"),i=document.getElementById("taskStatus"),s={title:e.value.trim(),assignee:t.value.trim()||"Unassigned",project:n.value,time:a.value.trim(),status:i.value||void 0},l=r.value;if(!s.title){alert("Please enter a task title");return}const c=_.data.projects.find(u=>u.id===s.project),f={title:s.title,assignee:s.assignee,project:c?c.name:"General",projectColor:c?c.color:"gray",time:s.time,status:s.status,avatar:`https://picsum.photos/20?${Date.now()}`,hasApproval:l==="in-review"};_.addTask(l,f),Ge()}function yn(o){o.preventDefault();const e=document.getElementById("projectName"),t=document.getElementById("projectColor"),n={name:e.value.trim(),color:t.value,starred:!1};if(!n.name){alert("Please enter a project name");return}if(_.data.projects.some(r=>r.name.toLowerCase()===n.name.toLowerCase())){alert("A project with this name already exists");return}_.addProject(n),We()}const _=new pn;document.addEventListener("click",o=>{const e=o.target,t=e.closest("[data-project-id]");if(t){o.preventDefault();const n=t.getAttribute("data-project-id");e.classList.contains("fa-star")?_.toggleProjectStar(n):console.log(`Selected project: ${n}`)}});document.addEventListener("click",o=>{const e=o.target;switch(e.getAttribute("data-action")){case"open-new-task-modal":Lt();break;case"close-new-task-modal":Ge();break;case"open-new-project-modal":Bt();break;case"close-new-project-modal":We();break;case"open-archive-modal":Ft();break;case"close-archive-modal":ft();break;case"approve-task":const n=e.getAttribute("data-task-id");n&&_.approveTask(n);break;case"archive-task":const a=e.getAttribute("data-task-id");a&&_.archiveTask(a);break;case"restore-task":const r=e.getAttribute("data-task-id");r&&(_.restoreTask(r),it());break;case"delete-archived-task":const i=e.getAttribute("data-task-id");i&&confirm("Are you sure you want to permanently delete this task?")&&(_.deleteArchivedTask(i),it());break;case"toggle-status":case"set-status":const s=e.getAttribute("data-task-id");s&&vn(s,e);break}});document.getElementById("newTaskForm")?.addEventListener("submit",bn);document.getElementById("newProjectForm")?.addEventListener("submit",yn);document.addEventListener("click",o=>{const e=o.target;e.classList.contains("modal-overlay")&&(e.id==="newTaskModal"?Ge():e.id==="newProjectModal"?We():e.id==="archiveModal"&&ft())});document.addEventListener("keydown",o=>{o.key==="Escape"&&(Ge(),We(),ft())});window.kanban=_;window.addSampleTask=()=>{_.addTask("up-next",{title:"Sample Task",assignee:"John Doe",project:"Test Project",projectColor:"blue",time:"5h",avatar:"https://picsum.photos/20?99"})};window.resetBoard=()=>{confirm("Are you sure you want to reset the board? This will clear all current data.")&&_.resetData()};window.exportBoard=()=>{_.exportData()};window.openNewTaskModal=Lt;window.openNewProjectModal=Bt;window.openArchiveModal=Ft;document.readyState==="loading"?document.addEventListener("DOMContentLoaded",st):st();function wn(){const o=document.querySelectorAll("[data-kanban-column]");function e(){const t=window.innerHeight,n=document.querySelector("main > div")?.getBoundingClientRect().height||80,a=t-n-100;o.forEach(r=>{const i=r;i.style.maxHeight=`${a}px`})}e(),window.addEventListener("resize",e),window.addEventListener("orientationchange",()=>{setTimeout(e,100)})}wn();function st(){const o=document.getElementById("open-mobile-menu"),e=document.getElementById("close-mobile-menu"),t=document.getElementById("mobile-sidebar-overlay"),n=document.getElementById("mobile-sidebar");if(o&&e&&t&&n){let a=function(){n&&t&&(n.classList.add("-translate-x-full"),setTimeout(()=>{t.classList.add("hidden")},300))};o.addEventListener("click",()=>{t.classList.remove("hidden"),setTimeout(()=>{n.classList.remove("-translate-x-full")},10)}),e.addEventListener("click",a),t.addEventListener("click",s=>{s.target===t&&a()});const r=document.getElementById("project-list"),i=document.getElementById("mobile-project-list");r&&i&&(new MutationObserver(()=>{i.innerHTML=r.innerHTML}).observe(r,{childList:!0,subtree:!0}),i.innerHTML=r.innerHTML)}}st();console.log("Dynamic Kanban Board loaded! Available commands:");console.log("- kanban.addTask(columnId, taskData)");console.log("- kanban.removeTask(taskId)");console.log("- kanban.archiveTask(taskId) - archive a task");console.log("- kanban.restoreTask(taskId) - restore archived task");console.log("- kanban.getArchivedTasks() - get all archived tasks");console.log("- kanban.addProject(projectData)");console.log("- kanban.removeProject(projectId)");console.log("- kanban.resetData()");console.log("- kanban.exportData()");console.log("- addSampleTask() - adds a sample task");console.log("- resetBoard() - resets to default data");console.log("- exportBoard() - exports current data");console.log("- openNewTaskModal() - opens new task dialog");console.log("- openNewProjectModal() - opens new project dialog");console.log("- openArchiveModal() - opens archive dialog");
