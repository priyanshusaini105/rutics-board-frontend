(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();/**!
 * Sortable 1.15.6
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function ut(o,e){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(o);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(o,r).enumerable})),t.push.apply(t,n)}return t}function H(o){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ut(Object(t),!0).forEach(function(n){Lt(o,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):ut(Object(t)).forEach(function(n){Object.defineProperty(o,n,Object.getOwnPropertyDescriptor(t,n))})}return o}function Ne(o){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ne=function(e){return typeof e}:Ne=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ne(o)}function Lt(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}function K(){return K=Object.assign||function(o){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=t[n])}return o},K.apply(this,arguments)}function Rt(o,e){if(o==null)return{};var t={},n=Object.keys(o),r,a;for(a=0;a<n.length;a++)r=n[a],!(e.indexOf(r)>=0)&&(t[r]=o[r]);return t}function $t(o,e){if(o==null)return{};var t=Rt(o,e),n,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(o);for(r=0;r<a.length;r++)n=a[r],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(o,n)&&(t[n]=o[n])}return t}var Xt="1.15.6";function q(o){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(o)}var J=q(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),ke=q(/Edge/i),ft=q(/firefox/i),De=q(/safari/i)&&!q(/chrome/i)&&!q(/android/i),it=q(/iP(ad|od|hone)/i),wt=q(/chrome/i)&&q(/android/i),Et={capture:!1,passive:!1};function v(o,e,t){o.addEventListener(e,t,!J&&Et)}function g(o,e,t){o.removeEventListener(e,t,!J&&Et)}function Re(o,e){if(e){if(e[0]===">"&&(e=e.substring(1)),o)try{if(o.matches)return o.matches(e);if(o.msMatchesSelector)return o.msMatchesSelector(e);if(o.webkitMatchesSelector)return o.webkitMatchesSelector(e)}catch{return!1}return!1}}function Dt(o){return o.host&&o!==document&&o.host.nodeType?o.host:o.parentNode}function X(o,e,t,n){if(o){t=t||document;do{if(e!=null&&(e[0]===">"?o.parentNode===t&&Re(o,e):Re(o,e))||n&&o===t)return o;if(o===t)break}while(o=Dt(o))}return null}var pt=/\s+/g;function M(o,e,t){if(o&&e)if(o.classList)o.classList[t?"add":"remove"](e);else{var n=(" "+o.className+" ").replace(pt," ").replace(" "+e+" "," ");o.className=(n+(t?" "+e:"")).replace(pt," ")}}function p(o,e,t){var n=o&&o.style;if(n){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(o,""):o.currentStyle&&(t=o.currentStyle),e===void 0?t:t[e];!(e in n)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),n[e]=t+(typeof t=="string"?"":"px")}}function fe(o,e){var t="";if(typeof o=="string")t=o;else do{var n=p(o,"transform");n&&n!=="none"&&(t=n+" "+t)}while(!e&&(o=o.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(t)}function St(o,e,t){if(o){var n=o.getElementsByTagName(e),r=0,a=n.length;if(t)for(;r<a;r++)t(n[r],r);return n}return[]}function z(){var o=document.scrollingElement;return o||document.documentElement}function C(o,e,t,n,r){if(!(!o.getBoundingClientRect&&o!==window)){var a,i,s,l,c,f,u;if(o!==window&&o.parentNode&&o!==z()?(a=o.getBoundingClientRect(),i=a.top,s=a.left,l=a.bottom,c=a.right,f=a.height,u=a.width):(i=0,s=0,l=window.innerHeight,c=window.innerWidth,f=window.innerHeight,u=window.innerWidth),(e||t)&&o!==window&&(r=r||o.parentNode,!J))do if(r&&r.getBoundingClientRect&&(p(r,"transform")!=="none"||t&&p(r,"position")!=="static")){var b=r.getBoundingClientRect();i-=b.top+parseInt(p(r,"border-top-width")),s-=b.left+parseInt(p(r,"border-left-width")),l=i+a.height,c=s+a.width;break}while(r=r.parentNode);if(n&&o!==window){var E=fe(r||o),y=E&&E.a,w=E&&E.d;E&&(i/=w,s/=y,u/=y,f/=w,l=i+f,c=s+u)}return{top:i,left:s,bottom:l,right:c,width:u,height:f}}}function ht(o,e,t){for(var n=te(o,!0),r=C(o)[e];n;){var a=C(n)[t],i=void 0;if(i=r>=a,!i)return n;if(n===z())break;n=te(n,!1)}return!1}function pe(o,e,t,n){for(var r=0,a=0,i=o.children;a<i.length;){if(i[a].style.display!=="none"&&i[a]!==h.ghost&&(n||i[a]!==h.dragged)&&X(i[a],t.draggable,o,!1)){if(r===e)return i[a];r++}a++}return null}function st(o,e){for(var t=o.lastElementChild;t&&(t===h.ghost||p(t,"display")==="none"||e&&!Re(t,e));)t=t.previousElementSibling;return t||null}function F(o,e){var t=0;if(!o||!o.parentNode)return-1;for(;o=o.previousElementSibling;)o.nodeName.toUpperCase()!=="TEMPLATE"&&o!==h.clone&&(!e||Re(o,e))&&t++;return t}function mt(o){var e=0,t=0,n=z();if(o)do{var r=fe(o),a=r.a,i=r.d;e+=o.scrollLeft*a,t+=o.scrollTop*i}while(o!==n&&(o=o.parentNode));return[e,t]}function Yt(o,e){for(var t in o)if(o.hasOwnProperty(t)){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===o[t][n])return Number(t)}return-1}function te(o,e){if(!o||!o.getBoundingClientRect)return z();var t=o,n=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var r=p(t);if(t.clientWidth<t.scrollWidth&&(r.overflowX=="auto"||r.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(r.overflowY=="auto"||r.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return z();if(n||e)return t;n=!0}}while(t=t.parentNode);return z()}function zt(o,e){if(o&&e)for(var t in e)e.hasOwnProperty(t)&&(o[t]=e[t]);return o}function Ue(o,e){return Math.round(o.top)===Math.round(e.top)&&Math.round(o.left)===Math.round(e.left)&&Math.round(o.height)===Math.round(e.height)&&Math.round(o.width)===Math.round(e.width)}var Se;function Tt(o,e){return function(){if(!Se){var t=arguments,n=this;t.length===1?o.call(n,t[0]):o.apply(n,t),Se=setTimeout(function(){Se=void 0},e)}}}function Ht(){clearTimeout(Se),Se=void 0}function _t(o,e,t){o.scrollLeft+=e,o.scrollTop+=t}function Ct(o){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(o).cloneNode(!0):t?t(o).clone(!0)[0]:o.cloneNode(!0)}function kt(o,e,t){var n={};return Array.from(o.children).forEach(function(r){var a,i,s,l;if(!(!X(r,e.draggable,o,!1)||r.animated||r===t)){var c=C(r);n.left=Math.min((a=n.left)!==null&&a!==void 0?a:1/0,c.left),n.top=Math.min((i=n.top)!==null&&i!==void 0?i:1/0,c.top),n.right=Math.max((s=n.right)!==null&&s!==void 0?s:-1/0,c.right),n.bottom=Math.max((l=n.bottom)!==null&&l!==void 0?l:-1/0,c.bottom)}}),n.width=n.right-n.left,n.height=n.bottom-n.top,n.x=n.left,n.y=n.top,n}var A="Sortable"+new Date().getTime();function Gt(){var o=[],e;return{captureAnimationState:function(){if(o=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(r){if(!(p(r,"display")==="none"||r===h.ghost)){o.push({target:r,rect:C(r)});var a=H({},o[o.length-1].rect);if(r.thisAnimationDuration){var i=fe(r,!0);i&&(a.top-=i.f,a.left-=i.e)}r.fromRect=a}})}},addAnimationState:function(n){o.push(n)},removeAnimationState:function(n){o.splice(Yt(o,{target:n}),1)},animateAll:function(n){var r=this;if(!this.options.animation){clearTimeout(e),typeof n=="function"&&n();return}var a=!1,i=0;o.forEach(function(s){var l=0,c=s.target,f=c.fromRect,u=C(c),b=c.prevFromRect,E=c.prevToRect,y=s.rect,w=fe(c,!0);w&&(u.top-=w.f,u.left-=w.e),c.toRect=u,c.thisAnimationDuration&&Ue(b,u)&&!Ue(f,u)&&(y.top-u.top)/(y.left-u.left)===(f.top-u.top)/(f.left-u.left)&&(l=Ut(y,b,E,r.options)),Ue(u,f)||(c.prevFromRect=f,c.prevToRect=u,l||(l=r.options.animation),r.animate(c,y,u,l)),l&&(a=!0,i=Math.max(i,l),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null},l),c.thisAnimationDuration=l)}),clearTimeout(e),a?e=setTimeout(function(){typeof n=="function"&&n()},i):typeof n=="function"&&n(),o=[]},animate:function(n,r,a,i){if(i){p(n,"transition",""),p(n,"transform","");var s=fe(this.el),l=s&&s.a,c=s&&s.d,f=(r.left-a.left)/(l||1),u=(r.top-a.top)/(c||1);n.animatingX=!!f,n.animatingY=!!u,p(n,"transform","translate3d("+f+"px,"+u+"px,0)"),this.forRepaintDummy=Wt(n),p(n,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),p(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){p(n,"transition",""),p(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},i)}}}}function Wt(o){return o.offsetWidth}function Ut(o,e,t,n){return Math.sqrt(Math.pow(e.top-o.top,2)+Math.pow(e.left-o.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*n.animation}var le=[],qe={initializeByDefault:!0},xe={mount:function(e){for(var t in qe)qe.hasOwnProperty(t)&&!(t in e)&&(e[t]=qe[t]);le.forEach(function(n){if(n.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),le.push(e)},pluginEvent:function(e,t,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var a=e+"Global";le.forEach(function(i){t[i.pluginName]&&(t[i.pluginName][a]&&t[i.pluginName][a](H({sortable:t},n)),t.options[i.pluginName]&&t[i.pluginName][e]&&t[i.pluginName][e](H({sortable:t},n)))})},initializePlugins:function(e,t,n,r){le.forEach(function(s){var l=s.pluginName;if(!(!e.options[l]&&!s.initializeByDefault)){var c=new s(e,t,e.options);c.sortable=e,c.options=e.options,e[l]=c,K(n,c.defaults)}});for(var a in e.options)if(e.options.hasOwnProperty(a)){var i=this.modifyOption(e,a,e.options[a]);typeof i<"u"&&(e.options[a]=i)}},getEventProperties:function(e,t){var n={};return le.forEach(function(r){typeof r.eventProperties=="function"&&K(n,r.eventProperties.call(t[r.pluginName],e))}),n},modifyOption:function(e,t,n){var r;return le.forEach(function(a){e[a.pluginName]&&a.optionListeners&&typeof a.optionListeners[t]=="function"&&(r=a.optionListeners[t].call(e[a.pluginName],n))}),r}};function qt(o){var e=o.sortable,t=o.rootEl,n=o.name,r=o.targetEl,a=o.cloneEl,i=o.toEl,s=o.fromEl,l=o.oldIndex,c=o.newIndex,f=o.oldDraggableIndex,u=o.newDraggableIndex,b=o.originalEvent,E=o.putSortable,y=o.extraEventProperties;if(e=e||t&&t[A],!!e){var w,L=e.options,W="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!J&&!ke?w=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(w=document.createEvent("Event"),w.initEvent(n,!0,!0)),w.to=i||t,w.from=s||t,w.item=r||t,w.clone=a,w.oldIndex=l,w.newIndex=c,w.oldDraggableIndex=f,w.newDraggableIndex=u,w.originalEvent=b,w.pullMode=E?E.lastPutMode:void 0;var j=H(H({},y),xe.getEventProperties(n,e));for(var R in j)w[R]=j[R];t&&t.dispatchEvent(w),L[W]&&L[W].call(e,w)}}var Kt=["evt"],I=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.evt,a=$t(n,Kt);xe.pluginEvent.bind(h)(e,t,H({dragEl:d,parentEl:T,ghostEl:m,rootEl:D,nextEl:se,lastDownEl:Me,cloneEl:S,cloneHidden:ee,dragStarted:ye,putSortable:k,activeSortable:h.active,originalEvent:r,oldIndex:ue,oldDraggableIndex:Te,newIndex:B,newDraggableIndex:Q,hideGhostForTarget:It,unhideGhostForTarget:At,cloneNowHidden:function(){ee=!0},cloneNowShown:function(){ee=!1},dispatchSortableEvent:function(s){P({sortable:t,name:s,originalEvent:r})}},a))};function P(o){qt(H({putSortable:k,cloneEl:S,targetEl:d,rootEl:D,oldIndex:ue,oldDraggableIndex:Te,newIndex:B,newDraggableIndex:Q},o))}var d,T,m,D,se,Me,S,ee,ue,B,Te,Q,Pe,k,de=!1,$e=!1,Xe=[],ae,$,Ke,Je,gt,vt,ye,ce,_e,Ce=!1,Ie=!1,Be,x,Ve=[],nt=!1,Ye=[],He=typeof document<"u",Ae=it,bt=ke||J?"cssFloat":"float",Jt=He&&!wt&&!it&&"draggable"in document.createElement("div"),xt=(function(){if(He){if(J)return!1;var o=document.createElement("x");return o.style.cssText="pointer-events:auto",o.style.pointerEvents==="auto"}})(),jt=function(e,t){var n=p(e),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),a=pe(e,0,t),i=pe(e,1,t),s=a&&p(a),l=i&&p(i),c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+C(a).width,f=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+C(i).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(a&&s.float&&s.float!=="none"){var u=s.float==="left"?"left":"right";return i&&(l.clear==="both"||l.clear===u)?"vertical":"horizontal"}return a&&(s.display==="block"||s.display==="flex"||s.display==="table"||s.display==="grid"||c>=r&&n[bt]==="none"||i&&n[bt]==="none"&&c+f>r)?"vertical":"horizontal"},Vt=function(e,t,n){var r=n?e.left:e.top,a=n?e.right:e.bottom,i=n?e.width:e.height,s=n?t.left:t.top,l=n?t.right:t.bottom,c=n?t.width:t.height;return r===s||a===l||r+i/2===s+c/2},Zt=function(e,t){var n;return Xe.some(function(r){var a=r[A].options.emptyInsertThreshold;if(!(!a||st(r))){var i=C(r),s=e>=i.left-a&&e<=i.right+a,l=t>=i.top-a&&t<=i.bottom+a;if(s&&l)return n=r}}),n},Pt=function(e){function t(a,i){return function(s,l,c,f){var u=s.options.group.name&&l.options.group.name&&s.options.group.name===l.options.group.name;if(a==null&&(i||u))return!0;if(a==null||a===!1)return!1;if(i&&a==="clone")return a;if(typeof a=="function")return t(a(s,l,c,f),i)(s,l,c,f);var b=(i?s:l).options.group.name;return a===!0||typeof a=="string"&&a===b||a.join&&a.indexOf(b)>-1}}var n={},r=e.group;(!r||Ne(r)!="object")&&(r={name:r}),n.name=r.name,n.checkPull=t(r.pull,!0),n.checkPut=t(r.put),n.revertClone=r.revertClone,e.group=n},It=function(){!xt&&m&&p(m,"display","none")},At=function(){!xt&&m&&p(m,"display","")};He&&!wt&&document.addEventListener("click",function(o){if($e)return o.preventDefault(),o.stopPropagation&&o.stopPropagation(),o.stopImmediatePropagation&&o.stopImmediatePropagation(),$e=!1,!1},!0);var ie=function(e){if(d){e=e.touches?e.touches[0]:e;var t=Zt(e.clientX,e.clientY);if(t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[A]._onDragOver(n)}}},Qt=function(e){d&&d.parentNode[A]._isOutsideThisEl(e.target)};function h(o,e){if(!(o&&o.nodeType&&o.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(o));this.el=o,this.options=e=K({},e),o[A]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(o.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return jt(o,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(i,s){i.setData("Text",s.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:h.supportPointer!==!1&&"PointerEvent"in window&&(!De||it),emptyInsertThreshold:5};xe.initializePlugins(this,o,t);for(var n in t)!(n in e)&&(e[n]=t[n]);Pt(e);for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));this.nativeDraggable=e.forceFallback?!1:Jt,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?v(o,"pointerdown",this._onTapStart):(v(o,"mousedown",this._onTapStart),v(o,"touchstart",this._onTapStart)),this.nativeDraggable&&(v(o,"dragover",this),v(o,"dragenter",this)),Xe.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),K(this,Gt())}h.prototype={constructor:h,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(ce=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,d):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,r=this.options,a=r.preventOnFilter,i=e.type,s=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(s||e).target,c=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,f=r.filter;if(ln(n),!d&&!(/mousedown|pointerdown/.test(i)&&e.button!==0||r.disabled)&&!c.isContentEditable&&!(!this.nativeDraggable&&De&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=X(l,r.draggable,n,!1),!(l&&l.animated)&&Me!==l)){if(ue=F(l),Te=F(l,r.draggable),typeof f=="function"){if(f.call(this,e,l,this)){P({sortable:t,rootEl:c,name:"filter",targetEl:l,toEl:n,fromEl:n}),I("filter",t,{evt:e}),a&&e.preventDefault();return}}else if(f&&(f=f.split(",").some(function(u){if(u=X(c,u.trim(),n,!1),u)return P({sortable:t,rootEl:u,name:"filter",targetEl:l,fromEl:n,toEl:n}),I("filter",t,{evt:e}),!0}),f)){a&&e.preventDefault();return}r.handle&&!X(c,r.handle,n,!1)||this._prepareDragStart(e,s,l)}}},_prepareDragStart:function(e,t,n){var r=this,a=r.el,i=r.options,s=a.ownerDocument,l;if(n&&!d&&n.parentNode===a){var c=C(n);if(D=a,d=n,T=d.parentNode,se=d.nextSibling,Me=n,Pe=i.group,h.dragged=d,ae={target:d,clientX:(t||e).clientX,clientY:(t||e).clientY},gt=ae.clientX-c.left,vt=ae.clientY-c.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,d.style["will-change"]="all",l=function(){if(I("delayEnded",r,{evt:e}),h.eventCanceled){r._onDrop();return}r._disableDelayedDragEvents(),!ft&&r.nativeDraggable&&(d.draggable=!0),r._triggerDragStart(e,t),P({sortable:r,name:"choose",originalEvent:e}),M(d,i.chosenClass,!0)},i.ignore.split(",").forEach(function(f){St(d,f.trim(),Ze)}),v(s,"dragover",ie),v(s,"mousemove",ie),v(s,"touchmove",ie),i.supportPointer?(v(s,"pointerup",r._onDrop),!this.nativeDraggable&&v(s,"pointercancel",r._onDrop)):(v(s,"mouseup",r._onDrop),v(s,"touchend",r._onDrop),v(s,"touchcancel",r._onDrop)),ft&&this.nativeDraggable&&(this.options.touchStartThreshold=4,d.draggable=!0),I("delayStart",this,{evt:e}),i.delay&&(!i.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(ke||J))){if(h.eventCanceled){this._onDrop();return}i.supportPointer?(v(s,"pointerup",r._disableDelayedDrag),v(s,"pointercancel",r._disableDelayedDrag)):(v(s,"mouseup",r._disableDelayedDrag),v(s,"touchend",r._disableDelayedDrag),v(s,"touchcancel",r._disableDelayedDrag)),v(s,"mousemove",r._delayedDragTouchMoveHandler),v(s,"touchmove",r._delayedDragTouchMoveHandler),i.supportPointer&&v(s,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(l,i.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){d&&Ze(d),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;g(e,"mouseup",this._disableDelayedDrag),g(e,"touchend",this._disableDelayedDrag),g(e,"touchcancel",this._disableDelayedDrag),g(e,"pointerup",this._disableDelayedDrag),g(e,"pointercancel",this._disableDelayedDrag),g(e,"mousemove",this._delayedDragTouchMoveHandler),g(e,"touchmove",this._delayedDragTouchMoveHandler),g(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?v(document,"pointermove",this._onTouchMove):t?v(document,"touchmove",this._onTouchMove):v(document,"mousemove",this._onTouchMove):(v(d,"dragend",this),v(D,"dragstart",this._onDragStart));try{document.selection?Fe(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(de=!1,D&&d){I("dragStarted",this,{evt:t}),this.nativeDraggable&&v(document,"dragover",Qt);var n=this.options;!e&&M(d,n.dragClass,!1),M(d,n.ghostClass,!0),h.active=this,e&&this._appendGhost(),P({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if($){this._lastX=$.clientX,this._lastY=$.clientY,It();for(var e=document.elementFromPoint($.clientX,$.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint($.clientX,$.clientY),e!==t);)t=e;if(d.parentNode[A]._isOutsideThisEl(e),t)do{if(t[A]){var n=void 0;if(n=t[A]._onDragOver({clientX:$.clientX,clientY:$.clientY,target:e,rootEl:t}),n&&!this.options.dragoverBubble)break}e=t}while(t=Dt(t));At()}},_onTouchMove:function(e){if(ae){var t=this.options,n=t.fallbackTolerance,r=t.fallbackOffset,a=e.touches?e.touches[0]:e,i=m&&fe(m,!0),s=m&&i&&i.a,l=m&&i&&i.d,c=Ae&&x&&mt(x),f=(a.clientX-ae.clientX+r.x)/(s||1)+(c?c[0]-Ve[0]:0)/(s||1),u=(a.clientY-ae.clientY+r.y)/(l||1)+(c?c[1]-Ve[1]:0)/(l||1);if(!h.active&&!de){if(n&&Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(m){i?(i.e+=f-(Ke||0),i.f+=u-(Je||0)):i={a:1,b:0,c:0,d:1,e:f,f:u};var b="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");p(m,"webkitTransform",b),p(m,"mozTransform",b),p(m,"msTransform",b),p(m,"transform",b),Ke=f,Je=u,$=a}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!m){var e=this.options.fallbackOnBody?document.body:D,t=C(d,!0,Ae,!0,e),n=this.options;if(Ae){for(x=e;p(x,"position")==="static"&&p(x,"transform")==="none"&&x!==document;)x=x.parentNode;x!==document.body&&x!==document.documentElement?(x===document&&(x=z()),t.top+=x.scrollTop,t.left+=x.scrollLeft):x=z(),Ve=mt(x)}m=d.cloneNode(!0),M(m,n.ghostClass,!1),M(m,n.fallbackClass,!0),M(m,n.dragClass,!0),p(m,"transition",""),p(m,"transform",""),p(m,"box-sizing","border-box"),p(m,"margin",0),p(m,"top",t.top),p(m,"left",t.left),p(m,"width",t.width),p(m,"height",t.height),p(m,"opacity","0.8"),p(m,"position",Ae?"absolute":"fixed"),p(m,"zIndex","100000"),p(m,"pointerEvents","none"),h.ghost=m,e.appendChild(m),p(m,"transform-origin",gt/parseInt(m.style.width)*100+"% "+vt/parseInt(m.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,r=e.dataTransfer,a=n.options;if(I("dragStart",this,{evt:e}),h.eventCanceled){this._onDrop();return}I("setupClone",this),h.eventCanceled||(S=Ct(d),S.removeAttribute("id"),S.draggable=!1,S.style["will-change"]="",this._hideClone(),M(S,this.options.chosenClass,!1),h.clone=S),n.cloneId=Fe(function(){I("clone",n),!h.eventCanceled&&(n.options.removeCloneOnHide||D.insertBefore(S,d),n._hideClone(),P({sortable:n,name:"clone"}))}),!t&&M(d,a.dragClass,!0),t?($e=!0,n._loopId=setInterval(n._emulateDragOver,50)):(g(document,"mouseup",n._onDrop),g(document,"touchend",n._onDrop),g(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",a.setData&&a.setData.call(n,r,d)),v(document,"drop",n),p(d,"transform","translateZ(0)")),de=!0,n._dragStartId=Fe(n._dragStarted.bind(n,t,e)),v(document,"selectstart",n),ye=!0,window.getSelection().removeAllRanges(),De&&p(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,n=e.target,r,a,i,s=this.options,l=s.group,c=h.active,f=Pe===l,u=s.sort,b=k||c,E,y=this,w=!1;if(nt)return;function L(be,Bt){I(be,y,H({evt:e,isOwner:f,axis:E?"vertical":"horizontal",revert:i,dragRect:r,targetRect:a,canSort:u,fromSortable:b,target:n,completed:j,onMove:function(dt,Ft){return Oe(D,t,d,r,dt,C(dt),e,Ft)},changed:R},Bt))}function W(){L("dragOverAnimationCapture"),y.captureAnimationState(),y!==b&&b.captureAnimationState()}function j(be){return L("dragOverCompleted",{insertion:be}),be&&(f?c._hideClone():c._showClone(y),y!==b&&(M(d,k?k.options.ghostClass:c.options.ghostClass,!1),M(d,s.ghostClass,!0)),k!==y&&y!==h.active?k=y:y===h.active&&k&&(k=null),b===y&&(y._ignoreWhileAnimating=n),y.animateAll(function(){L("dragOverAnimationComplete"),y._ignoreWhileAnimating=null}),y!==b&&(b.animateAll(),b._ignoreWhileAnimating=null)),(n===d&&!d.animated||n===t&&!n.animated)&&(ce=null),!s.dragoverBubble&&!e.rootEl&&n!==document&&(d.parentNode[A]._isOutsideThisEl(e.target),!be&&ie(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),w=!0}function R(){B=F(d),Q=F(d,s.draggable),P({sortable:y,name:"change",toEl:t,newIndex:B,newDraggableIndex:Q,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),n=X(n,s.draggable,t,!0),L("dragOver"),h.eventCanceled)return w;if(d.contains(e.target)||n.animated&&n.animatingX&&n.animatingY||y._ignoreWhileAnimating===n)return j(!1);if($e=!1,c&&!s.disabled&&(f?u||(i=T!==D):k===this||(this.lastPutMode=Pe.checkPull(this,c,d,e))&&l.checkPut(this,c,d,e))){if(E=this._getDirection(e,n)==="vertical",r=C(d),L("dragOverValid"),h.eventCanceled)return w;if(i)return T=D,W(),this._hideClone(),L("revert"),h.eventCanceled||(se?D.insertBefore(d,se):D.appendChild(d)),j(!0);var O=st(t,s.draggable);if(!O||on(e,E,this)&&!O.animated){if(O===d)return j(!1);if(O&&t===e.target&&(n=O),n&&(a=C(n)),Oe(D,t,d,r,n,a,e,!!n)!==!1)return W(),O&&O.nextSibling?t.insertBefore(d,O.nextSibling):t.appendChild(d),T=t,R(),j(!0)}else if(O&&nn(e,E,this)){var ne=pe(t,0,s,!0);if(ne===d)return j(!1);if(n=ne,a=C(n),Oe(D,t,d,r,n,a,e,!1)!==!1)return W(),t.insertBefore(d,ne),T=t,R(),j(!0)}else if(n.parentNode===t){a=C(n);var Y=0,oe,he=d.parentNode!==t,N=!Vt(d.animated&&d.toRect||r,n.animated&&n.toRect||a,E),me=E?"top":"left",V=ht(n,"top","top")||ht(d,"top","top"),ge=V?V.scrollTop:void 0;ce!==n&&(oe=a[me],Ce=!1,Ie=!N&&s.invertSwap||he),Y=rn(e,n,a,E,N?1:s.swapThreshold,s.invertedSwapThreshold==null?s.swapThreshold:s.invertedSwapThreshold,Ie,ce===n);var U;if(Y!==0){var re=F(d);do re-=Y,U=T.children[re];while(U&&(p(U,"display")==="none"||U===m))}if(Y===0||U===n)return j(!1);ce=n,_e=Y;var ve=n.nextElementSibling,Z=!1;Z=Y===1;var je=Oe(D,t,d,r,n,a,e,Z);if(je!==!1)return(je===1||je===-1)&&(Z=je===1),nt=!0,setTimeout(tn,30),W(),Z&&!ve?t.appendChild(d):n.parentNode.insertBefore(d,Z?ve:n),V&&_t(V,0,ge-V.scrollTop),T=d.parentNode,oe!==void 0&&!Ie&&(Be=Math.abs(oe-C(n)[me])),R(),j(!0)}if(t.contains(d))return j(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){g(document,"mousemove",this._onTouchMove),g(document,"touchmove",this._onTouchMove),g(document,"pointermove",this._onTouchMove),g(document,"dragover",ie),g(document,"mousemove",ie),g(document,"touchmove",ie)},_offUpEvents:function(){var e=this.el.ownerDocument;g(e,"mouseup",this._onDrop),g(e,"touchend",this._onDrop),g(e,"pointerup",this._onDrop),g(e,"pointercancel",this._onDrop),g(e,"touchcancel",this._onDrop),g(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;if(B=F(d),Q=F(d,n.draggable),I("drop",this,{evt:e}),T=d&&d.parentNode,B=F(d),Q=F(d,n.draggable),h.eventCanceled){this._nulling();return}de=!1,Ie=!1,Ce=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),ot(this.cloneId),ot(this._dragStartId),this.nativeDraggable&&(g(document,"drop",this),g(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),De&&p(document.body,"user-select",""),p(d,"transform",""),e&&(ye&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),m&&m.parentNode&&m.parentNode.removeChild(m),(D===T||k&&k.lastPutMode!=="clone")&&S&&S.parentNode&&S.parentNode.removeChild(S),d&&(this.nativeDraggable&&g(d,"dragend",this),Ze(d),d.style["will-change"]="",ye&&!de&&M(d,k?k.options.ghostClass:this.options.ghostClass,!1),M(d,this.options.chosenClass,!1),P({sortable:this,name:"unchoose",toEl:T,newIndex:null,newDraggableIndex:null,originalEvent:e}),D!==T?(B>=0&&(P({rootEl:T,name:"add",toEl:T,fromEl:D,originalEvent:e}),P({sortable:this,name:"remove",toEl:T,originalEvent:e}),P({rootEl:T,name:"sort",toEl:T,fromEl:D,originalEvent:e}),P({sortable:this,name:"sort",toEl:T,originalEvent:e})),k&&k.save()):B!==ue&&B>=0&&(P({sortable:this,name:"update",toEl:T,originalEvent:e}),P({sortable:this,name:"sort",toEl:T,originalEvent:e})),h.active&&((B==null||B===-1)&&(B=ue,Q=Te),P({sortable:this,name:"end",toEl:T,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){I("nulling",this),D=d=T=m=se=S=Me=ee=ae=$=ye=B=Q=ue=Te=ce=_e=k=Pe=h.dragged=h.ghost=h.clone=h.active=null,Ye.forEach(function(e){e.checked=!0}),Ye.length=Ke=Je=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":d&&(this._onDragOver(e),en(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,n=this.el.children,r=0,a=n.length,i=this.options;r<a;r++)t=n[r],X(t,i.draggable,this.el,!1)&&e.push(t.getAttribute(i.dataIdAttr)||sn(t));return e},sort:function(e,t){var n={},r=this.el;this.toArray().forEach(function(a,i){var s=r.children[i];X(s,this.options.draggable,r,!1)&&(n[a]=s)},this),t&&this.captureAnimationState(),e.forEach(function(a){n[a]&&(r.removeChild(n[a]),r.appendChild(n[a]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return X(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(t===void 0)return n[e];var r=xe.modifyOption(this,e,t);typeof r<"u"?n[e]=r:n[e]=t,e==="group"&&Pt(n)},destroy:function(){I("destroy",this);var e=this.el;e[A]=null,g(e,"mousedown",this._onTapStart),g(e,"touchstart",this._onTapStart),g(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(g(e,"dragover",this),g(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Xe.splice(Xe.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ee){if(I("hideClone",this),h.eventCanceled)return;p(S,"display","none"),this.options.removeCloneOnHide&&S.parentNode&&S.parentNode.removeChild(S),ee=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(ee){if(I("showClone",this),h.eventCanceled)return;d.parentNode==D&&!this.options.group.revertClone?D.insertBefore(S,d):se?D.insertBefore(S,se):D.appendChild(S),this.options.group.revertClone&&this.animate(d,S),p(S,"display",""),ee=!1}}};function en(o){o.dataTransfer&&(o.dataTransfer.dropEffect="move"),o.cancelable&&o.preventDefault()}function Oe(o,e,t,n,r,a,i,s){var l,c=o[A],f=c.options.onMove,u;return window.CustomEvent&&!J&&!ke?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=o,l.dragged=t,l.draggedRect=n,l.related=r||e,l.relatedRect=a||C(e),l.willInsertAfter=s,l.originalEvent=i,o.dispatchEvent(l),f&&(u=f.call(c,l,i)),u}function Ze(o){o.draggable=!1}function tn(){nt=!1}function nn(o,e,t){var n=C(pe(t.el,0,t.options,!0)),r=kt(t.el,t.options,m),a=10;return e?o.clientX<r.left-a||o.clientY<n.top&&o.clientX<n.right:o.clientY<r.top-a||o.clientY<n.bottom&&o.clientX<n.left}function on(o,e,t){var n=C(st(t.el,t.options.draggable)),r=kt(t.el,t.options,m),a=10;return e?o.clientX>r.right+a||o.clientY>n.bottom&&o.clientX>n.left:o.clientY>r.bottom+a||o.clientX>n.right&&o.clientY>n.top}function rn(o,e,t,n,r,a,i,s){var l=n?o.clientY:o.clientX,c=n?t.height:t.width,f=n?t.top:t.left,u=n?t.bottom:t.right,b=!1;if(!i){if(s&&Be<c*r){if(!Ce&&(_e===1?l>f+c*a/2:l<u-c*a/2)&&(Ce=!0),Ce)b=!0;else if(_e===1?l<f+Be:l>u-Be)return-_e}else if(l>f+c*(1-r)/2&&l<u-c*(1-r)/2)return an(e)}return b=b||i,b&&(l<f+c*a/2||l>u-c*a/2)?l>f+c/2?1:-1:0}function an(o){return F(d)<F(o)?1:-1}function sn(o){for(var e=o.tagName+o.className+o.src+o.href+o.textContent,t=e.length,n=0;t--;)n+=e.charCodeAt(t);return n.toString(36)}function ln(o){Ye.length=0;for(var e=o.getElementsByTagName("input"),t=e.length;t--;){var n=e[t];n.checked&&Ye.push(n)}}function Fe(o){return setTimeout(o,0)}function ot(o){return clearTimeout(o)}He&&v(document,"touchmove",function(o){(h.active||de)&&o.cancelable&&o.preventDefault()});h.utils={on:v,off:g,css:p,find:St,is:function(e,t){return!!X(e,t,e,!1)},extend:zt,throttle:Tt,closest:X,toggleClass:M,clone:Ct,index:F,nextTick:Fe,cancelNextTick:ot,detectDirection:jt,getChild:pe,expando:A};h.get=function(o){return o[A]};h.mount=function(){for(var o=arguments.length,e=new Array(o),t=0;t<o;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(h.utils=H(H({},h.utils),n.utils)),xe.mount(n)})};h.create=function(o,e){return new h(o,e)};h.version=Xt;var _=[],we,rt,at=!1,Qe,et,ze,Ee;function cn(){function o(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return o.prototype={dragStarted:function(t){var n=t.originalEvent;this.sortable.nativeDraggable?v(document,"dragover",this._handleAutoScroll):this.options.supportPointer?v(document,"pointermove",this._handleFallbackAutoScroll):n.touches?v(document,"touchmove",this._handleFallbackAutoScroll):v(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var n=t.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?g(document,"dragover",this._handleAutoScroll):(g(document,"pointermove",this._handleFallbackAutoScroll),g(document,"touchmove",this._handleFallbackAutoScroll),g(document,"mousemove",this._handleFallbackAutoScroll)),yt(),Le(),Ht()},nulling:function(){ze=rt=we=at=Ee=Qe=et=null,_.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,n){var r=this,a=(t.touches?t.touches[0]:t).clientX,i=(t.touches?t.touches[0]:t).clientY,s=document.elementFromPoint(a,i);if(ze=t,n||this.options.forceAutoScrollFallback||ke||J||De){tt(t,this.options,s,n);var l=te(s,!0);at&&(!Ee||a!==Qe||i!==et)&&(Ee&&yt(),Ee=setInterval(function(){var c=te(document.elementFromPoint(a,i),!0);c!==l&&(l=c,Le()),tt(t,r.options,c,n)},10),Qe=a,et=i)}else{if(!this.options.bubbleScroll||te(s,!0)===z()){Le();return}tt(t,this.options,te(s,!1),!1)}}},K(o,{pluginName:"scroll",initializeByDefault:!0})}function Le(){_.forEach(function(o){clearInterval(o.pid)}),_=[]}function yt(){clearInterval(Ee)}var tt=Tt(function(o,e,t,n){if(e.scroll){var r=(o.touches?o.touches[0]:o).clientX,a=(o.touches?o.touches[0]:o).clientY,i=e.scrollSensitivity,s=e.scrollSpeed,l=z(),c=!1,f;rt!==t&&(rt=t,Le(),we=e.scroll,f=e.scrollFn,we===!0&&(we=te(t,!0)));var u=0,b=we;do{var E=b,y=C(E),w=y.top,L=y.bottom,W=y.left,j=y.right,R=y.width,O=y.height,ne=void 0,Y=void 0,oe=E.scrollWidth,he=E.scrollHeight,N=p(E),me=E.scrollLeft,V=E.scrollTop;E===l?(ne=R<oe&&(N.overflowX==="auto"||N.overflowX==="scroll"||N.overflowX==="visible"),Y=O<he&&(N.overflowY==="auto"||N.overflowY==="scroll"||N.overflowY==="visible")):(ne=R<oe&&(N.overflowX==="auto"||N.overflowX==="scroll"),Y=O<he&&(N.overflowY==="auto"||N.overflowY==="scroll"));var ge=ne&&(Math.abs(j-r)<=i&&me+R<oe)-(Math.abs(W-r)<=i&&!!me),U=Y&&(Math.abs(L-a)<=i&&V+O<he)-(Math.abs(w-a)<=i&&!!V);if(!_[u])for(var re=0;re<=u;re++)_[re]||(_[re]={});(_[u].vx!=ge||_[u].vy!=U||_[u].el!==E)&&(_[u].el=E,_[u].vx=ge,_[u].vy=U,clearInterval(_[u].pid),(ge!=0||U!=0)&&(c=!0,_[u].pid=setInterval((function(){n&&this.layer===0&&h.active._onTouchMove(ze);var ve=_[this.layer].vy?_[this.layer].vy*s:0,Z=_[this.layer].vx?_[this.layer].vx*s:0;typeof f=="function"&&f.call(h.dragged.parentNode[A],Z,ve,o,ze,_[this.layer].el)!=="continue"||_t(_[this.layer].el,Z,ve)}).bind({layer:u}),24))),u++}while(e.bubbleScroll&&b!==l&&(b=te(b,!1)));at=c}},30),Ot=function(e){var t=e.originalEvent,n=e.putSortable,r=e.dragEl,a=e.activeSortable,i=e.dispatchSortableEvent,s=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(t){var c=n||a;s();var f=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(f.clientX,f.clientY);l(),c&&!c.el.contains(u)&&(i("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function lt(){}lt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=pe(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(t,r):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:Ot};K(lt,{pluginName:"revertOnSpill"});function ct(){}ct.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable,r=n||this.sortable;r.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),r.animateAll()},drop:Ot};K(ct,{pluginName:"removeOnSpill"});h.mount(new cn);h.mount(ct,lt);class dn{storageKey="kanban-board-data";data;constructor(){this.data=this.loadData(),this.init()}init(){this.renderProjects(),this.renderAllTasks(),this.initializeDragAndDrop(),this.updateAllColumnCounts(),this.populateProjectDropdown(),console.log("Dynamic Kanban board initialized successfully!")}loadData(){const e=localStorage.getItem(this.storageKey);if(e)try{return JSON.parse(e)}catch(t){return console.error("Error parsing stored data:",t),this.getDefaultData()}return this.getDefaultData()}saveData(){localStorage.setItem(this.storageKey,JSON.stringify(this.data)),console.log("Data saved to localStorage")}getDefaultData(){return{projects:[{id:"mast",name:"Mast",starred:!0,color:"fuchsia"},{id:"bluejay",name:"Bluejay",starred:!0,color:"blue"},{id:"dabble",name:"Dabble",starred:!1,color:"purple"},{id:"highlight",name:"Highlight",starred:!1,color:"cyan"},{id:"figmate",name:"Figmate",starred:!1,color:"orange"},{id:"gwp",name:"GWP",starred:!1,color:"green"},{id:"launchpad",name:"LaunchPad",starred:!1,color:"violet"},{id:"rev",name:"Rev",starred:!1,color:"red"}],columns:{"up-next":{id:"up-next",title:"Up Next",tasks:[{id:"task-1",title:"Update ticket designs in modal.",assignee:"Brantley Mathis",project:"Mast",projectColor:"fuchsia",time:"20h",avatar:"https://picsum.photos/20?6"},{id:"task-2",title:"Create page layout for onboarding.",assignee:"Sarah Wilson",project:"Bluejay",projectColor:"blue",time:"15h",avatar:"https://picsum.photos/20?1"},{id:"task-3",title:"Polish designs and reach out to dev.",assignee:"Alex Chen",project:"Dabble",projectColor:"purple",time:"8h",avatar:"https://picsum.photos/20?2"},{id:"task-4",title:"Remote user approvals/comments",assignee:"Jordan Taylor",project:"GWP",projectColor:"green",time:"12h",avatar:"https://picsum.photos/20?3"},{id:"task-5",title:"Redo landing page for Sono Dojo",assignee:"Morgan Davis",project:"Figmate",projectColor:"orange",time:"25h",avatar:"https://picsum.photos/20?4"}]},"in-progress":{id:"in-progress",title:"In Progress",tasks:[{id:"task-6",title:"Include lien waiver questionnaire statement.",assignee:"Ivan Erickson",project:"Bluejay",projectColor:"blue",time:"5h",avatar:"https://picsum.photos/20?7"},{id:"task-7",title:"Button Styling Concepts",assignee:"Tori Bates",project:"Mast",projectColor:"fuchsia",time:"10h",avatar:"https://picsum.photos/20?8"}]},"in-review":{id:"in-review",title:"In Review",tasks:[{id:"task-8",title:"Add Search Bar.",assignee:"Sabrina Dobson",project:"Highlight",projectColor:"cyan",hasApproval:!0,avatar:"https://picsum.photos/20?9"},{id:"task-9",title:"Update Material Editor Info.",assignee:"Ellis Ochoa",project:"LaunchPad",projectColor:"violet",hasApproval:!0,avatar:"https://picsum.photos/20?10"},{id:"task-10",title:"Add Membership Renewal Button.",assignee:"Glenn Jones",project:"Rev",projectColor:"red",hasApproval:!0,avatar:"https://picsum.photos/20?11"}]}}}}createTaskElement(e){const t=document.createElement("article");t.className="mx-2 rounded-lg border border-zinc-800 bg-zinc-800/60 p-3 shadow-sm hover:border-zinc-700",t.setAttribute("data-kanban-task","true"),t.setAttribute("data-task-id",e.id);const r={fuchsia:"bg-fuchsia-700/40 text-fuchsia-300",blue:"bg-blue-700/40 text-blue-300",purple:"bg-purple-700/40 text-purple-300",green:"bg-green-700/40 text-green-300",orange:"bg-orange-700/40 text-orange-300",cyan:"bg-cyan-700/40 text-cyan-300",violet:"bg-violet-700/40 text-violet-300",red:"bg-red-700/40 text-red-300",yellow:"bg-yellow-700/40 text-yellow-300",pink:"bg-pink-700/40 text-pink-300"}[e.projectColor]||"bg-gray-700/40 text-gray-300",a=e.hasApproval?`
      <div class="mt-2 flex gap-2">
        <button data-action="approve-task" data-task-id="${e.id}" class="px-2 py-1 text-[12px] rounded bg-emerald-700/40 text-emerald-300 border border-emerald-800/60">
          Approve
        </button>
      </div>
    `:"",i=e.time?`<span class="text-[11px] text-zinc-400">${e.time}</span>`:"";return t.innerHTML=`
      <header class="flex items-start justify-between">
        <h3 class="text-sm font-medium">${e.title}</h3>
        ${i}
      </header>
      ${a}
      <footer class="mt-2 flex items-center justify-between">
        <div class="flex items-center gap-2">
          <img class="h-5 w-5 rounded-full" src="${e.avatar}" alt="${e.assignee}">
          <span class="text-xs text-zinc-300">${e.assignee}</span>
        </div>
        <div class="flex items-center gap-1">
          <span class="rounded ${r} px-2 py-0.5 text-[11px]">${e.project}</span>
        </div>
      </footer>
    `,t}renderProjects(){const e=document.getElementById("project-list");e&&(e.innerHTML="",this.data.projects.forEach(t=>{const n=document.createElement("li");t.starred?n.innerHTML=`
          <a class="flex items-center justify-between px-2 py-2 rounded-md hover:bg-zinc-800 text-zinc-300" href="#" data-project-id="${t.id}">
            <span class="truncate">${t.name}</span>
            <span class="text-amber-400">★</span>
          </a>
        `:n.innerHTML=`
          <a class="block px-2 py-2 rounded-md hover:bg-zinc-800 text-zinc-300" href="#" data-project-id="${t.id}">
            ${t.name}
          </a>
        `,e.appendChild(n)}),console.log("Projects rendered in sidebar"))}toggleProjectStar(e){const t=this.data.projects.find(n=>n.id===e);t&&(t.starred=!t.starred,this.saveData(),this.renderProjects(),console.log(`Project ${t.name} star toggled to ${t.starred}`))}renderAllTasks(){Object.keys(this.data.columns).forEach(e=>{this.renderColumnTasks(e)})}renderColumnTasks(e){const t=document.querySelector(`[data-kanban-column="${e}"]`),n=this.data.columns[e];!t||!n||(t.innerHTML="",n.tasks.forEach(r=>{const a=this.createTaskElement(r);t.appendChild(a)}),this.updateColumnCount(e))}updateColumnCount(e){const t=document.querySelector(`[data-kanban-column="${e}"]`);if(!t)return;const n=t.closest(".bg-zinc-900")?.querySelector(".text-zinc-400"),r=this.data.columns[e]?.tasks.length||0;n&&(n.textContent=r.toString())}updateAllColumnCounts(){Object.keys(this.data.columns).forEach(e=>{this.updateColumnCount(e)})}moveTask(e,t,n){const r=this.data.columns[t],a=this.data.columns[n];if(!r||!a)return;const i=r.tasks.findIndex(l=>l.id===e);if(i===-1)return;const s=r.tasks.splice(i,1)[0];a.tasks.push(s),this.saveData(),console.log(`Task "${s.title}" moved from ${t} to ${n}`)}addTask(e,t){const n=this.data.columns[e];if(!n)return;const r={id:"task-"+Date.now(),title:t.title||"New Task",assignee:t.assignee||"Unassigned",project:t.project||"General",projectColor:t.projectColor||"gray",time:t.time||"",avatar:t.avatar||"https://picsum.photos/20?0",hasApproval:e==="in-review"};return n.tasks.push(r),this.saveData(),this.renderColumnTasks(e),console.log(`New task "${r.title}" added to ${e}`),r}removeTask(e){Object.keys(this.data.columns).forEach(t=>{const n=this.data.columns[t],r=n.tasks.findIndex(a=>a.id===e);if(r!==-1){const a=n.tasks.splice(r,1)[0];this.saveData(),this.renderColumnTasks(t),console.log(`Task "${a.title}" removed from ${t}`);return}})}approveTask(e){console.log(`Task ${e} approved`),this.removeTask(e)}addProject(e){const t={id:e.name.toLowerCase().replace(/\s+/g,"-"),name:e.name,starred:e.starred||!1,color:e.color||"blue"};return this.data.projects.push(t),this.saveData(),this.renderProjects(),this.populateProjectDropdown(),console.log(`New project "${t.name}" added`),t}removeProject(e){const t=this.data.projects.findIndex(n=>n.id===e);if(t!==-1){const n=this.data.projects.splice(t,1)[0];return this.saveData(),this.renderProjects(),this.populateProjectDropdown(),console.log(`Project "${n.name}" removed`),n}}populateProjectDropdown(){const e=document.getElementById("taskProject");e&&(e.innerHTML="",this.data.projects.forEach(t=>{const n=document.createElement("option");n.value=t.id,n.textContent=t.name,e.appendChild(n)}))}initializeDragAndDrop(){document.querySelectorAll("[data-kanban-column]").forEach(t=>{new h(t,{group:"kanban-tasks",animation:150,ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",onStart:n=>{console.log("Drag started:",n.item.querySelector("h3")?.textContent)},onEnd:n=>{const r=n.item.getAttribute("data-task-id"),a=n.from.getAttribute("data-kanban-column"),i=n.to.getAttribute("data-kanban-column");r&&a&&i&&a!==i&&(this.moveTask(r,a,i),this.updateAllColumnCounts())}})}),console.log("Drag and drop initialized for all columns")}resetData(){this.data=this.getDefaultData(),this.saveData(),this.renderProjects(),this.renderAllTasks(),this.updateAllColumnCounts(),this.populateProjectDropdown(),console.log("Data reset to defaults")}exportData(){const e=JSON.stringify(this.data,null,2),t=new Blob([e],{type:"application/json"}),n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download="kanban-board-data.json",r.click(),console.log("Data exported")}importData(e){try{this.data=JSON.parse(e),this.saveData(),this.renderProjects(),this.renderAllTasks(),this.updateAllColumnCounts(),this.populateProjectDropdown(),console.log("Data imported successfully")}catch(t){console.error("Error importing data:",t)}}}function Nt(){document.getElementById("newTaskModal")?.classList.add("show"),document.getElementById("taskTitle")?.focus()}function Ge(){document.getElementById("newTaskModal")?.classList.remove("show"),document.getElementById("newTaskForm")?.reset()}function Mt(){document.getElementById("newProjectModal")?.classList.add("show"),document.getElementById("projectName")?.focus()}function We(){document.getElementById("newProjectModal")?.classList.remove("show"),document.getElementById("newProjectForm")?.reset()}function un(o){o.preventDefault();const e=document.getElementById("taskTitle"),t=document.getElementById("taskAssignee"),n=document.getElementById("taskProject"),r=document.getElementById("taskTime"),a=document.getElementById("taskColumn"),i={title:e.value.trim(),assignee:t.value.trim()||"Unassigned",project:n.value,time:r.value.trim()},s=a.value;if(!i.title){alert("Please enter a task title");return}const l=G.data.projects.find(f=>f.id===i.project),c={title:i.title,assignee:i.assignee,project:l?l.name:"General",projectColor:l?l.color:"gray",time:i.time,avatar:`https://picsum.photos/20?${Date.now()}`,hasApproval:s==="in-review"};G.addTask(s,c),Ge()}function fn(o){o.preventDefault();const e=document.getElementById("projectName"),t=document.getElementById("projectColor"),n=document.getElementById("projectStarred"),r={name:e.value.trim(),color:t.value,starred:n.checked};if(!r.name){alert("Please enter a project name");return}if(G.data.projects.some(i=>i.name.toLowerCase()===r.name.toLowerCase())){alert("A project with this name already exists");return}G.addProject(r),We()}const G=new dn;document.addEventListener("click",o=>{const e=o.target,t=e.closest("[data-project-id]");if(t){o.preventDefault();const n=t.getAttribute("data-project-id");e.textContent==="★"?G.toggleProjectStar(n):console.log(`Selected project: ${n}`)}});document.addEventListener("click",o=>{const e=o.target;switch(e.getAttribute("data-action")){case"open-new-task-modal":Nt();break;case"close-new-task-modal":Ge();break;case"open-new-project-modal":Mt();break;case"close-new-project-modal":We();break;case"approve-task":const n=e.getAttribute("data-task-id");n&&G.approveTask(n);break}});document.getElementById("newTaskForm")?.addEventListener("submit",un);document.getElementById("newProjectForm")?.addEventListener("submit",fn);document.addEventListener("click",o=>{const e=o.target;e.classList.contains("modal-overlay")&&(e.id==="newTaskModal"?Ge():e.id==="newProjectModal"&&We())});document.addEventListener("keydown",o=>{o.key==="Escape"&&(Ge(),We())});window.kanban=G;window.addSampleTask=()=>{G.addTask("up-next",{title:"Sample Task",assignee:"John Doe",project:"Test Project",projectColor:"blue",time:"5h",avatar:"https://picsum.photos/20?99"})};window.resetBoard=()=>{confirm("Are you sure you want to reset the board? This will clear all current data.")&&G.resetData()};window.exportBoard=()=>{G.exportData()};window.openNewTaskModal=Nt;window.openNewProjectModal=Mt;console.log("Dynamic Kanban Board loaded! Available commands:");console.log("- kanban.addTask(columnId, taskData)");console.log("- kanban.removeTask(taskId)");console.log("- kanban.addProject(projectData)");console.log("- kanban.removeProject(projectId)");console.log("- kanban.resetData()");console.log("- kanban.exportData()");console.log("- addSampleTask() - adds a sample task");console.log("- resetBoard() - resets to default data");console.log("- exportBoard() - exports current data");console.log("- openNewTaskModal() - opens new task dialog");console.log("- openNewProjectModal() - opens new project dialog");
