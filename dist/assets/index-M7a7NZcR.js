(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function e(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=e(o);fetch(o.href,a)}})();/**!
 * Sortable 1.15.6
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function pe(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),e.push.apply(e,n)}return e}function G(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?pe(Object(e),!0).forEach(function(n){Re(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):pe(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}function Mt(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Mt=function(t){return typeof t}:Mt=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mt(r)}function Re(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function K(){return K=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},K.apply(this,arguments)}function Xe(r,t){if(r==null)return{};var e={},n=Object.keys(r),o,a;for(a=0;a<n.length;a++)o=n[a],!(t.indexOf(o)>=0)&&(e[o]=r[o]);return e}function Ye(r,t){if(r==null)return{};var e=Xe(r,t),n,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(o=0;o<a.length;o++)n=a[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(e[n]=r[n])}return e}var Ge="1.15.6";function U(r){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(r)}var J=U(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Ct=U(/Edge/i),me=U(/firefox/i),kt=U(/safari/i)&&!U(/chrome/i)&&!U(/android/i),le=U(/iP(ad|od|hone)/i),xe=U(/chrome/i)&&U(/android/i),Te={capture:!1,passive:!1};function v(r,t,e){r.addEventListener(t,e,!J&&Te)}function g(r,t,e){r.removeEventListener(t,e,!J&&Te)}function Ft(r,t){if(t){if(t[0]===">"&&(t=t.substring(1)),r)try{if(r.matches)return r.matches(t);if(r.msMatchesSelector)return r.msMatchesSelector(t);if(r.webkitMatchesSelector)return r.webkitMatchesSelector(t)}catch{return!1}return!1}}function De(r){return r.host&&r!==document&&r.host.nodeType?r.host:r.parentNode}function R(r,t,e,n){if(r){e=e||document;do{if(t!=null&&(t[0]===">"?r.parentNode===e&&Ft(r,t):Ft(r,t))||n&&r===e)return r;if(r===e)break}while(r=De(r))}return null}var ge=/\s+/g;function $(r,t,e){if(r&&t)if(r.classList)r.classList[e?"add":"remove"](t);else{var n=(" "+r.className+" ").replace(ge," ").replace(" "+t+" "," ");r.className=(n+(e?" "+t:"")).replace(ge," ")}}function h(r,t,e){var n=r&&r.style;if(n){if(e===void 0)return document.defaultView&&document.defaultView.getComputedStyle?e=document.defaultView.getComputedStyle(r,""):r.currentStyle&&(e=r.currentStyle),t===void 0?e:e[t];!(t in n)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),n[t]=e+(typeof e=="string"?"":"px")}}function ft(r,t){var e="";if(typeof r=="string")e=r;else do{var n=h(r,"transform");n&&n!=="none"&&(e=n+" "+e)}while(!t&&(r=r.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(e)}function Se(r,t,e){if(r){var n=r.getElementsByTagName(t),o=0,a=n.length;if(e)for(;o<a;o++)e(n[o],o);return n}return[]}function Y(){var r=document.scrollingElement;return r||document.documentElement}function S(r,t,e,n,o){if(!(!r.getBoundingClientRect&&r!==window)){var a,i,s,l,c,f,u;if(r!==window&&r.parentNode&&r!==Y()?(a=r.getBoundingClientRect(),i=a.top,s=a.left,l=a.bottom,c=a.right,f=a.height,u=a.width):(i=0,s=0,l=window.innerHeight,c=window.innerWidth,f=window.innerHeight,u=window.innerWidth),(t||e)&&r!==window&&(o=o||r.parentNode,!J))do if(o&&o.getBoundingClientRect&&(h(o,"transform")!=="none"||e&&h(o,"position")!=="static")){var b=o.getBoundingClientRect();i-=b.top+parseInt(h(o,"border-top-width")),s-=b.left+parseInt(h(o,"border-left-width")),l=i+a.height,c=s+a.width;break}while(o=o.parentNode);if(n&&r!==window){var E=ft(o||r),y=E&&E.a,w=E&&E.d;E&&(i/=w,s/=y,u/=y,f/=w,l=i+f,c=s+u)}return{top:i,left:s,bottom:l,right:c,width:u,height:f}}}function ve(r,t,e){for(var n=et(r,!0),o=S(r)[t];n;){var a=S(n)[e],i=void 0;if(i=o>=a,!i)return n;if(n===Y())break;n=et(n,!1)}return!1}function ht(r,t,e,n){for(var o=0,a=0,i=r.children;a<i.length;){if(i[a].style.display!=="none"&&i[a]!==p.ghost&&(n||i[a]!==p.dragged)&&R(i[a],e.draggable,r,!1)){if(o===t)return i[a];o++}a++}return null}function ce(r,t){for(var e=r.lastElementChild;e&&(e===p.ghost||h(e,"display")==="none"||t&&!Ft(e,t));)e=e.previousElementSibling;return e||null}function B(r,t){var e=0;if(!r||!r.parentNode)return-1;for(;r=r.previousElementSibling;)r.nodeName.toUpperCase()!=="TEMPLATE"&&r!==p.clone&&(!t||Ft(r,t))&&e++;return e}function be(r){var t=0,e=0,n=Y();if(r)do{var o=ft(r),a=o.a,i=o.d;t+=r.scrollLeft*a,e+=r.scrollTop*i}while(r!==n&&(r=r.parentNode));return[t,e]}function We(r,t){for(var e in r)if(r.hasOwnProperty(e)){for(var n in t)if(t.hasOwnProperty(n)&&t[n]===r[e][n])return Number(e)}return-1}function et(r,t){if(!r||!r.getBoundingClientRect)return Y();var e=r,n=!1;do if(e.clientWidth<e.scrollWidth||e.clientHeight<e.scrollHeight){var o=h(e);if(e.clientWidth<e.scrollWidth&&(o.overflowX=="auto"||o.overflowX=="scroll")||e.clientHeight<e.scrollHeight&&(o.overflowY=="auto"||o.overflowY=="scroll")){if(!e.getBoundingClientRect||e===document.body)return Y();if(n||t)return e;n=!0}}while(e=e.parentNode);return Y()}function qe(r,t){if(r&&t)for(var e in t)t.hasOwnProperty(e)&&(r[e]=t[e]);return r}function qt(r,t){return Math.round(r.top)===Math.round(t.top)&&Math.round(r.left)===Math.round(t.left)&&Math.round(r.height)===Math.round(t.height)&&Math.round(r.width)===Math.round(t.width)}var xt;function Ce(r,t){return function(){if(!xt){var e=arguments,n=this;e.length===1?r.call(n,e[0]):r.apply(n,e),xt=setTimeout(function(){xt=void 0},t)}}}function Ue(){clearTimeout(xt),xt=void 0}function je(r,t,e){r.scrollLeft+=t,r.scrollTop+=e}function _e(r){var t=window.Polymer,e=window.jQuery||window.Zepto;return t&&t.dom?t.dom(r).cloneNode(!0):e?e(r).clone(!0)[0]:r.cloneNode(!0)}function Ie(r,t,e){var n={};return Array.from(r.children).forEach(function(o){var a,i,s,l;if(!(!R(o,t.draggable,r,!1)||o.animated||o===e)){var c=S(o);n.left=Math.min((a=n.left)!==null&&a!==void 0?a:1/0,c.left),n.top=Math.min((i=n.top)!==null&&i!==void 0?i:1/0,c.top),n.right=Math.max((s=n.right)!==null&&s!==void 0?s:-1/0,c.right),n.bottom=Math.max((l=n.bottom)!==null&&l!==void 0?l:-1/0,c.bottom)}}),n.width=n.right-n.left,n.height=n.bottom-n.top,n.x=n.left,n.y=n.top,n}var O="Sortable"+new Date().getTime();function Ke(){var r=[],t;return{captureAnimationState:function(){if(r=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(o){if(!(h(o,"display")==="none"||o===p.ghost)){r.push({target:o,rect:S(o)});var a=G({},r[r.length-1].rect);if(o.thisAnimationDuration){var i=ft(o,!0);i&&(a.top-=i.f,a.left-=i.e)}o.fromRect=a}})}},addAnimationState:function(n){r.push(n)},removeAnimationState:function(n){r.splice(We(r,{target:n}),1)},animateAll:function(n){var o=this;if(!this.options.animation){clearTimeout(t),typeof n=="function"&&n();return}var a=!1,i=0;r.forEach(function(s){var l=0,c=s.target,f=c.fromRect,u=S(c),b=c.prevFromRect,E=c.prevToRect,y=s.rect,w=ft(c,!0);w&&(u.top-=w.f,u.left-=w.e),c.toRect=u,c.thisAnimationDuration&&qt(b,u)&&!qt(f,u)&&(y.top-u.top)/(y.left-u.left)===(f.top-u.top)/(f.left-u.left)&&(l=Ve(y,b,E,o.options)),qt(u,f)||(c.prevFromRect=f,c.prevToRect=u,l||(l=o.options.animation),o.animate(c,y,u,l)),l&&(a=!0,i=Math.max(i,l),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null},l),c.thisAnimationDuration=l)}),clearTimeout(t),a?t=setTimeout(function(){typeof n=="function"&&n()},i):typeof n=="function"&&n(),r=[]},animate:function(n,o,a,i){if(i){h(n,"transition",""),h(n,"transform","");var s=ft(this.el),l=s&&s.a,c=s&&s.d,f=(o.left-a.left)/(l||1),u=(o.top-a.top)/(c||1);n.animatingX=!!f,n.animatingY=!!u,h(n,"transform","translate3d("+f+"px,"+u+"px,0)"),this.forRepaintDummy=Je(n),h(n,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),h(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){h(n,"transition",""),h(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},i)}}}}function Je(r){return r.offsetWidth}function Ve(r,t,e,n){return Math.sqrt(Math.pow(t.top-r.top,2)+Math.pow(t.left-r.left,2))/Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))*n.animation}var lt=[],Ut={initializeByDefault:!0},jt={mount:function(t){for(var e in Ut)Ut.hasOwnProperty(e)&&!(e in t)&&(t[e]=Ut[e]);lt.forEach(function(n){if(n.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),lt.push(t)},pluginEvent:function(t,e,n){var o=this;this.eventCanceled=!1,n.cancel=function(){o.eventCanceled=!0};var a=t+"Global";lt.forEach(function(i){e[i.pluginName]&&(e[i.pluginName][a]&&e[i.pluginName][a](G({sortable:e},n)),e.options[i.pluginName]&&e[i.pluginName][t]&&e[i.pluginName][t](G({sortable:e},n)))})},initializePlugins:function(t,e,n,o){lt.forEach(function(s){var l=s.pluginName;if(!(!t.options[l]&&!s.initializeByDefault)){var c=new s(t,e,t.options);c.sortable=t,c.options=t.options,t[l]=c,K(n,c.defaults)}});for(var a in t.options)if(t.options.hasOwnProperty(a)){var i=this.modifyOption(t,a,t.options[a]);typeof i<"u"&&(t.options[a]=i)}},getEventProperties:function(t,e){var n={};return lt.forEach(function(o){typeof o.eventProperties=="function"&&K(n,o.eventProperties.call(e[o.pluginName],t))}),n},modifyOption:function(t,e,n){var o;return lt.forEach(function(a){t[a.pluginName]&&a.optionListeners&&typeof a.optionListeners[e]=="function"&&(o=a.optionListeners[e].call(t[a.pluginName],n))}),o}};function Ze(r){var t=r.sortable,e=r.rootEl,n=r.name,o=r.targetEl,a=r.cloneEl,i=r.toEl,s=r.fromEl,l=r.oldIndex,c=r.newIndex,f=r.oldDraggableIndex,u=r.newDraggableIndex,b=r.originalEvent,E=r.putSortable,y=r.extraEventProperties;if(t=t||e&&e[O],!!t){var w,F=t.options,W="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!J&&!Ct?w=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(w=document.createEvent("Event"),w.initEvent(n,!0,!0)),w.to=i||e,w.from=s||e,w.item=o||e,w.clone=a,w.oldIndex=l,w.newIndex=c,w.oldDraggableIndex=f,w.newDraggableIndex=u,w.originalEvent=b,w.pullMode=E?E.lastPutMode:void 0;var I=G(G({},y),jt.getEventProperties(n,t));for(var H in I)w[H]=I[H];e&&e.dispatchEvent(w),F[W]&&F[W].call(t,w)}}var Qe=["evt"],P=function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=n.evt,a=Ye(n,Qe);jt.pluginEvent.bind(p)(t,e,G({dragEl:d,parentEl:T,ghostEl:m,rootEl:k,nextEl:st,lastDownEl:Nt,cloneEl:x,cloneHidden:tt,dragStarted:yt,putSortable:C,activeSortable:p.active,originalEvent:o,oldIndex:ut,oldDraggableIndex:Tt,newIndex:L,newDraggableIndex:Q,hideGhostForTarget:Me,unhideGhostForTarget:Ne,cloneNowHidden:function(){tt=!0},cloneNowShown:function(){tt=!1},dispatchSortableEvent:function(s){A({sortable:e,name:s,originalEvent:o})}},a))};function A(r){Ze(G({putSortable:C,cloneEl:x,targetEl:d,rootEl:k,oldIndex:ut,oldDraggableIndex:Tt,newIndex:L,newDraggableIndex:Q},r))}var d,T,m,k,st,Nt,x,tt,ut,L,Tt,Q,It,C,dt=!1,Ht=!1,zt=[],at,z,Kt,Jt,ye,we,yt,ct,Dt,St=!1,At=!1,$t,j,Vt=[],ne=!1,Rt=[],Yt=typeof document<"u",Pt=le,Ee=Ct||J?"cssFloat":"float",tn=Yt&&!xe&&!le&&"draggable"in document.createElement("div"),Ae=(function(){if(Yt){if(J)return!1;var r=document.createElement("x");return r.style.cssText="pointer-events:auto",r.style.pointerEvents==="auto"}})(),Pe=function(t,e){var n=h(t),o=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),a=ht(t,0,e),i=ht(t,1,e),s=a&&h(a),l=i&&h(i),c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+S(a).width,f=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+S(i).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(a&&s.float&&s.float!=="none"){var u=s.float==="left"?"left":"right";return i&&(l.clear==="both"||l.clear===u)?"vertical":"horizontal"}return a&&(s.display==="block"||s.display==="flex"||s.display==="table"||s.display==="grid"||c>=o&&n[Ee]==="none"||i&&n[Ee]==="none"&&c+f>o)?"vertical":"horizontal"},en=function(t,e,n){var o=n?t.left:t.top,a=n?t.right:t.bottom,i=n?t.width:t.height,s=n?e.left:e.top,l=n?e.right:e.bottom,c=n?e.width:e.height;return o===s||a===l||o+i/2===s+c/2},nn=function(t,e){var n;return zt.some(function(o){var a=o[O].options.emptyInsertThreshold;if(!(!a||ce(o))){var i=S(o),s=t>=i.left-a&&t<=i.right+a,l=e>=i.top-a&&e<=i.bottom+a;if(s&&l)return n=o}}),n},Oe=function(t){function e(a,i){return function(s,l,c,f){var u=s.options.group.name&&l.options.group.name&&s.options.group.name===l.options.group.name;if(a==null&&(i||u))return!0;if(a==null||a===!1)return!1;if(i&&a==="clone")return a;if(typeof a=="function")return e(a(s,l,c,f),i)(s,l,c,f);var b=(i?s:l).options.group.name;return a===!0||typeof a=="string"&&a===b||a.join&&a.indexOf(b)>-1}}var n={},o=t.group;(!o||Mt(o)!="object")&&(o={name:o}),n.name=o.name,n.checkPull=e(o.pull,!0),n.checkPut=e(o.put),n.revertClone=o.revertClone,t.group=n},Me=function(){!Ae&&m&&h(m,"display","none")},Ne=function(){!Ae&&m&&h(m,"display","")};Yt&&!xe&&document.addEventListener("click",function(r){if(Ht)return r.preventDefault(),r.stopPropagation&&r.stopPropagation(),r.stopImmediatePropagation&&r.stopImmediatePropagation(),Ht=!1,!1},!0);var it=function(t){if(d){t=t.touches?t.touches[0]:t;var e=nn(t.clientX,t.clientY);if(e){var n={};for(var o in t)t.hasOwnProperty(o)&&(n[o]=t[o]);n.target=n.rootEl=e,n.preventDefault=void 0,n.stopPropagation=void 0,e[O]._onDragOver(n)}}},rn=function(t){d&&d.parentNode[O]._isOutsideThisEl(t.target)};function p(r,t){if(!(r&&r.nodeType&&r.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(r));this.el=r,this.options=t=K({},t),r[O]=this;var e={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(r.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Pe(r,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(i,s){i.setData("Text",s.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:p.supportPointer!==!1&&"PointerEvent"in window&&(!kt||le),emptyInsertThreshold:5};jt.initializePlugins(this,r,e);for(var n in e)!(n in t)&&(t[n]=e[n]);Oe(t);for(var o in this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this));this.nativeDraggable=t.forceFallback?!1:tn,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?v(r,"pointerdown",this._onTapStart):(v(r,"mousedown",this._onTapStart),v(r,"touchstart",this._onTapStart)),this.nativeDraggable&&(v(r,"dragover",this),v(r,"dragenter",this)),zt.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),K(this,Ke())}p.prototype={constructor:p,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(ct=null)},_getDirection:function(t,e){return typeof this.options.direction=="function"?this.options.direction.call(this,t,e,d):this.options.direction},_onTapStart:function(t){if(t.cancelable){var e=this,n=this.el,o=this.options,a=o.preventOnFilter,i=t.type,s=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,l=(s||t).target,c=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||l,f=o.filter;if(fn(n),!d&&!(/mousedown|pointerdown/.test(i)&&t.button!==0||o.disabled)&&!c.isContentEditable&&!(!this.nativeDraggable&&kt&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=R(l,o.draggable,n,!1),!(l&&l.animated)&&Nt!==l)){if(ut=B(l),Tt=B(l,o.draggable),typeof f=="function"){if(f.call(this,t,l,this)){A({sortable:e,rootEl:c,name:"filter",targetEl:l,toEl:n,fromEl:n}),P("filter",e,{evt:t}),a&&t.preventDefault();return}}else if(f&&(f=f.split(",").some(function(u){if(u=R(c,u.trim(),n,!1),u)return A({sortable:e,rootEl:u,name:"filter",targetEl:l,fromEl:n,toEl:n}),P("filter",e,{evt:t}),!0}),f)){a&&t.preventDefault();return}o.handle&&!R(c,o.handle,n,!1)||this._prepareDragStart(t,s,l)}}},_prepareDragStart:function(t,e,n){var o=this,a=o.el,i=o.options,s=a.ownerDocument,l;if(n&&!d&&n.parentNode===a){var c=S(n);if(k=a,d=n,T=d.parentNode,st=d.nextSibling,Nt=n,It=i.group,p.dragged=d,at={target:d,clientX:(e||t).clientX,clientY:(e||t).clientY},ye=at.clientX-c.left,we=at.clientY-c.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,d.style["will-change"]="all",l=function(){if(P("delayEnded",o,{evt:t}),p.eventCanceled){o._onDrop();return}o._disableDelayedDragEvents(),!me&&o.nativeDraggable&&(d.draggable=!0),o._triggerDragStart(t,e),A({sortable:o,name:"choose",originalEvent:t}),$(d,i.chosenClass,!0)},i.ignore.split(",").forEach(function(f){Se(d,f.trim(),Zt)}),v(s,"dragover",it),v(s,"mousemove",it),v(s,"touchmove",it),i.supportPointer?(v(s,"pointerup",o._onDrop),!this.nativeDraggable&&v(s,"pointercancel",o._onDrop)):(v(s,"mouseup",o._onDrop),v(s,"touchend",o._onDrop),v(s,"touchcancel",o._onDrop)),me&&this.nativeDraggable&&(this.options.touchStartThreshold=4,d.draggable=!0),P("delayStart",this,{evt:t}),i.delay&&(!i.delayOnTouchOnly||e)&&(!this.nativeDraggable||!(Ct||J))){if(p.eventCanceled){this._onDrop();return}i.supportPointer?(v(s,"pointerup",o._disableDelayedDrag),v(s,"pointercancel",o._disableDelayedDrag)):(v(s,"mouseup",o._disableDelayedDrag),v(s,"touchend",o._disableDelayedDrag),v(s,"touchcancel",o._disableDelayedDrag)),v(s,"mousemove",o._delayedDragTouchMoveHandler),v(s,"touchmove",o._delayedDragTouchMoveHandler),i.supportPointer&&v(s,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(l,i.delay)}else l()}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){d&&Zt(d),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;g(t,"mouseup",this._disableDelayedDrag),g(t,"touchend",this._disableDelayedDrag),g(t,"touchcancel",this._disableDelayedDrag),g(t,"pointerup",this._disableDelayedDrag),g(t,"pointercancel",this._disableDelayedDrag),g(t,"mousemove",this._delayedDragTouchMoveHandler),g(t,"touchmove",this._delayedDragTouchMoveHandler),g(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||t.pointerType=="touch"&&t,!this.nativeDraggable||e?this.options.supportPointer?v(document,"pointermove",this._onTouchMove):e?v(document,"touchmove",this._onTouchMove):v(document,"mousemove",this._onTouchMove):(v(d,"dragend",this),v(k,"dragstart",this._onDragStart));try{document.selection?Lt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,e){if(dt=!1,k&&d){P("dragStarted",this,{evt:e}),this.nativeDraggable&&v(document,"dragover",rn);var n=this.options;!t&&$(d,n.dragClass,!1),$(d,n.ghostClass,!0),p.active=this,t&&this._appendGhost(),A({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(z){this._lastX=z.clientX,this._lastY=z.clientY,Me();for(var t=document.elementFromPoint(z.clientX,z.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(z.clientX,z.clientY),t!==e);)e=t;if(d.parentNode[O]._isOutsideThisEl(t),e)do{if(e[O]){var n=void 0;if(n=e[O]._onDragOver({clientX:z.clientX,clientY:z.clientY,target:t,rootEl:e}),n&&!this.options.dragoverBubble)break}t=e}while(e=De(e));Ne()}},_onTouchMove:function(t){if(at){var e=this.options,n=e.fallbackTolerance,o=e.fallbackOffset,a=t.touches?t.touches[0]:t,i=m&&ft(m,!0),s=m&&i&&i.a,l=m&&i&&i.d,c=Pt&&j&&be(j),f=(a.clientX-at.clientX+o.x)/(s||1)+(c?c[0]-Vt[0]:0)/(s||1),u=(a.clientY-at.clientY+o.y)/(l||1)+(c?c[1]-Vt[1]:0)/(l||1);if(!p.active&&!dt){if(n&&Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}if(m){i?(i.e+=f-(Kt||0),i.f+=u-(Jt||0)):i={a:1,b:0,c:0,d:1,e:f,f:u};var b="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");h(m,"webkitTransform",b),h(m,"mozTransform",b),h(m,"msTransform",b),h(m,"transform",b),Kt=f,Jt=u,z=a}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!m){var t=this.options.fallbackOnBody?document.body:k,e=S(d,!0,Pt,!0,t),n=this.options;if(Pt){for(j=t;h(j,"position")==="static"&&h(j,"transform")==="none"&&j!==document;)j=j.parentNode;j!==document.body&&j!==document.documentElement?(j===document&&(j=Y()),e.top+=j.scrollTop,e.left+=j.scrollLeft):j=Y(),Vt=be(j)}m=d.cloneNode(!0),$(m,n.ghostClass,!1),$(m,n.fallbackClass,!0),$(m,n.dragClass,!0),h(m,"transition",""),h(m,"transform",""),h(m,"box-sizing","border-box"),h(m,"margin",0),h(m,"top",e.top),h(m,"left",e.left),h(m,"width",e.width),h(m,"height",e.height),h(m,"opacity","0.8"),h(m,"position",Pt?"absolute":"fixed"),h(m,"zIndex","100000"),h(m,"pointerEvents","none"),p.ghost=m,t.appendChild(m),h(m,"transform-origin",ye/parseInt(m.style.width)*100+"% "+we/parseInt(m.style.height)*100+"%")}},_onDragStart:function(t,e){var n=this,o=t.dataTransfer,a=n.options;if(P("dragStart",this,{evt:t}),p.eventCanceled){this._onDrop();return}P("setupClone",this),p.eventCanceled||(x=_e(d),x.removeAttribute("id"),x.draggable=!1,x.style["will-change"]="",this._hideClone(),$(x,this.options.chosenClass,!1),p.clone=x),n.cloneId=Lt(function(){P("clone",n),!p.eventCanceled&&(n.options.removeCloneOnHide||k.insertBefore(x,d),n._hideClone(),A({sortable:n,name:"clone"}))}),!e&&$(d,a.dragClass,!0),e?(Ht=!0,n._loopId=setInterval(n._emulateDragOver,50)):(g(document,"mouseup",n._onDrop),g(document,"touchend",n._onDrop),g(document,"touchcancel",n._onDrop),o&&(o.effectAllowed="move",a.setData&&a.setData.call(n,o,d)),v(document,"drop",n),h(d,"transform","translateZ(0)")),dt=!0,n._dragStartId=Lt(n._dragStarted.bind(n,e,t)),v(document,"selectstart",n),yt=!0,window.getSelection().removeAllRanges(),kt&&h(document.body,"user-select","none")},_onDragOver:function(t){var e=this.el,n=t.target,o,a,i,s=this.options,l=s.group,c=p.active,f=It===l,u=s.sort,b=C||c,E,y=this,w=!1;if(ne)return;function F(bt,He){P(bt,y,G({evt:t,isOwner:f,axis:E?"vertical":"horizontal",revert:i,dragRect:o,targetRect:a,canSort:u,fromSortable:b,target:n,completed:I,onMove:function(he,ze){return Ot(k,e,d,o,he,S(he),t,ze)},changed:H},He))}function W(){F("dragOverAnimationCapture"),y.captureAnimationState(),y!==b&&b.captureAnimationState()}function I(bt){return F("dragOverCompleted",{insertion:bt}),bt&&(f?c._hideClone():c._showClone(y),y!==b&&($(d,C?C.options.ghostClass:c.options.ghostClass,!1),$(d,s.ghostClass,!0)),C!==y&&y!==p.active?C=y:y===p.active&&C&&(C=null),b===y&&(y._ignoreWhileAnimating=n),y.animateAll(function(){F("dragOverAnimationComplete"),y._ignoreWhileAnimating=null}),y!==b&&(b.animateAll(),b._ignoreWhileAnimating=null)),(n===d&&!d.animated||n===e&&!n.animated)&&(ct=null),!s.dragoverBubble&&!t.rootEl&&n!==document&&(d.parentNode[O]._isOutsideThisEl(t.target),!bt&&it(t)),!s.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),w=!0}function H(){L=B(d),Q=B(d,s.draggable),A({sortable:y,name:"change",toEl:e,newIndex:L,newDraggableIndex:Q,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),n=R(n,s.draggable,e,!0),F("dragOver"),p.eventCanceled)return w;if(d.contains(t.target)||n.animated&&n.animatingX&&n.animatingY||y._ignoreWhileAnimating===n)return I(!1);if(Ht=!1,c&&!s.disabled&&(f?u||(i=T!==k):C===this||(this.lastPutMode=It.checkPull(this,c,d,t))&&l.checkPut(this,c,d,t))){if(E=this._getDirection(t,n)==="vertical",o=S(d),F("dragOverValid"),p.eventCanceled)return w;if(i)return T=k,W(),this._hideClone(),F("revert"),p.eventCanceled||(st?k.insertBefore(d,st):k.appendChild(d)),I(!0);var M=ce(e,s.draggable);if(!M||ln(t,E,this)&&!M.animated){if(M===d)return I(!1);if(M&&e===t.target&&(n=M),n&&(a=S(n)),Ot(k,e,d,o,n,a,t,!!n)!==!1)return W(),M&&M.nextSibling?e.insertBefore(d,M.nextSibling):e.appendChild(d),T=e,H(),I(!0)}else if(M&&sn(t,E,this)){var nt=ht(e,0,s,!0);if(nt===d)return I(!1);if(n=nt,a=S(n),Ot(k,e,d,o,n,a,t,!1)!==!1)return W(),e.insertBefore(d,nt),T=e,H(),I(!0)}else if(n.parentNode===e){a=S(n);var X=0,rt,pt=d.parentNode!==e,N=!en(d.animated&&d.toRect||o,n.animated&&n.toRect||a,E),mt=E?"top":"left",V=ve(n,"top","top")||ve(d,"top","top"),gt=V?V.scrollTop:void 0;ct!==n&&(rt=a[mt],St=!1,At=!N&&s.invertSwap||pt),X=cn(t,n,a,E,N?1:s.swapThreshold,s.invertedSwapThreshold==null?s.swapThreshold:s.invertedSwapThreshold,At,ct===n);var q;if(X!==0){var ot=B(d);do ot-=X,q=T.children[ot];while(q&&(h(q,"display")==="none"||q===m))}if(X===0||q===n)return I(!1);ct=n,Dt=X;var vt=n.nextElementSibling,Z=!1;Z=X===1;var _t=Ot(k,e,d,o,n,a,t,Z);if(_t!==!1)return(_t===1||_t===-1)&&(Z=_t===1),ne=!0,setTimeout(an,30),W(),Z&&!vt?e.appendChild(d):n.parentNode.insertBefore(d,Z?vt:n),V&&je(V,0,gt-V.scrollTop),T=d.parentNode,rt!==void 0&&!At&&($t=Math.abs(rt-S(n)[mt])),H(),I(!0)}if(e.contains(d))return I(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){g(document,"mousemove",this._onTouchMove),g(document,"touchmove",this._onTouchMove),g(document,"pointermove",this._onTouchMove),g(document,"dragover",it),g(document,"mousemove",it),g(document,"touchmove",it)},_offUpEvents:function(){var t=this.el.ownerDocument;g(t,"mouseup",this._onDrop),g(t,"touchend",this._onDrop),g(t,"pointerup",this._onDrop),g(t,"pointercancel",this._onDrop),g(t,"touchcancel",this._onDrop),g(document,"selectstart",this)},_onDrop:function(t){var e=this.el,n=this.options;if(L=B(d),Q=B(d,n.draggable),P("drop",this,{evt:t}),T=d&&d.parentNode,L=B(d),Q=B(d,n.draggable),p.eventCanceled){this._nulling();return}dt=!1,At=!1,St=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),re(this.cloneId),re(this._dragStartId),this.nativeDraggable&&(g(document,"drop",this),g(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),kt&&h(document.body,"user-select",""),h(d,"transform",""),t&&(yt&&(t.cancelable&&t.preventDefault(),!n.dropBubble&&t.stopPropagation()),m&&m.parentNode&&m.parentNode.removeChild(m),(k===T||C&&C.lastPutMode!=="clone")&&x&&x.parentNode&&x.parentNode.removeChild(x),d&&(this.nativeDraggable&&g(d,"dragend",this),Zt(d),d.style["will-change"]="",yt&&!dt&&$(d,C?C.options.ghostClass:this.options.ghostClass,!1),$(d,this.options.chosenClass,!1),A({sortable:this,name:"unchoose",toEl:T,newIndex:null,newDraggableIndex:null,originalEvent:t}),k!==T?(L>=0&&(A({rootEl:T,name:"add",toEl:T,fromEl:k,originalEvent:t}),A({sortable:this,name:"remove",toEl:T,originalEvent:t}),A({rootEl:T,name:"sort",toEl:T,fromEl:k,originalEvent:t}),A({sortable:this,name:"sort",toEl:T,originalEvent:t})),C&&C.save()):L!==ut&&L>=0&&(A({sortable:this,name:"update",toEl:T,originalEvent:t}),A({sortable:this,name:"sort",toEl:T,originalEvent:t})),p.active&&((L==null||L===-1)&&(L=ut,Q=Tt),A({sortable:this,name:"end",toEl:T,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){P("nulling",this),k=d=T=m=st=x=Nt=tt=at=z=yt=L=Q=ut=Tt=ct=Dt=C=It=p.dragged=p.ghost=p.clone=p.active=null,Rt.forEach(function(t){t.checked=!0}),Rt.length=Kt=Jt=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":d&&(this._onDragOver(t),on(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],e,n=this.el.children,o=0,a=n.length,i=this.options;o<a;o++)e=n[o],R(e,i.draggable,this.el,!1)&&t.push(e.getAttribute(i.dataIdAttr)||un(e));return t},sort:function(t,e){var n={},o=this.el;this.toArray().forEach(function(a,i){var s=o.children[i];R(s,this.options.draggable,o,!1)&&(n[a]=s)},this),e&&this.captureAnimationState(),t.forEach(function(a){n[a]&&(o.removeChild(n[a]),o.appendChild(n[a]))}),e&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return R(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var n=this.options;if(e===void 0)return n[t];var o=jt.modifyOption(this,t,e);typeof o<"u"?n[t]=o:n[t]=e,t==="group"&&Oe(n)},destroy:function(){P("destroy",this);var t=this.el;t[O]=null,g(t,"mousedown",this._onTapStart),g(t,"touchstart",this._onTapStart),g(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(g(t,"dragover",this),g(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),zt.splice(zt.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!tt){if(P("hideClone",this),p.eventCanceled)return;h(x,"display","none"),this.options.removeCloneOnHide&&x.parentNode&&x.parentNode.removeChild(x),tt=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(tt){if(P("showClone",this),p.eventCanceled)return;d.parentNode==k&&!this.options.group.revertClone?k.insertBefore(x,d):st?k.insertBefore(x,st):k.appendChild(x),this.options.group.revertClone&&this.animate(d,x),h(x,"display",""),tt=!1}}};function on(r){r.dataTransfer&&(r.dataTransfer.dropEffect="move"),r.cancelable&&r.preventDefault()}function Ot(r,t,e,n,o,a,i,s){var l,c=r[O],f=c.options.onMove,u;return window.CustomEvent&&!J&&!Ct?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=t,l.from=r,l.dragged=e,l.draggedRect=n,l.related=o||t,l.relatedRect=a||S(t),l.willInsertAfter=s,l.originalEvent=i,r.dispatchEvent(l),f&&(u=f.call(c,l,i)),u}function Zt(r){r.draggable=!1}function an(){ne=!1}function sn(r,t,e){var n=S(ht(e.el,0,e.options,!0)),o=Ie(e.el,e.options,m),a=10;return t?r.clientX<o.left-a||r.clientY<n.top&&r.clientX<n.right:r.clientY<o.top-a||r.clientY<n.bottom&&r.clientX<n.left}function ln(r,t,e){var n=S(ce(e.el,e.options.draggable)),o=Ie(e.el,e.options,m),a=10;return t?r.clientX>o.right+a||r.clientY>n.bottom&&r.clientX>n.left:r.clientY>o.bottom+a||r.clientX>n.right&&r.clientY>n.top}function cn(r,t,e,n,o,a,i,s){var l=n?r.clientY:r.clientX,c=n?e.height:e.width,f=n?e.top:e.left,u=n?e.bottom:e.right,b=!1;if(!i){if(s&&$t<c*o){if(!St&&(Dt===1?l>f+c*a/2:l<u-c*a/2)&&(St=!0),St)b=!0;else if(Dt===1?l<f+$t:l>u-$t)return-Dt}else if(l>f+c*(1-o)/2&&l<u-c*(1-o)/2)return dn(t)}return b=b||i,b&&(l<f+c*a/2||l>u-c*a/2)?l>f+c/2?1:-1:0}function dn(r){return B(d)<B(r)?1:-1}function un(r){for(var t=r.tagName+r.className+r.src+r.href+r.textContent,e=t.length,n=0;e--;)n+=t.charCodeAt(e);return n.toString(36)}function fn(r){Rt.length=0;for(var t=r.getElementsByTagName("input"),e=t.length;e--;){var n=t[e];n.checked&&Rt.push(n)}}function Lt(r){return setTimeout(r,0)}function re(r){return clearTimeout(r)}Yt&&v(document,"touchmove",function(r){(p.active||dt)&&r.cancelable&&r.preventDefault()});p.utils={on:v,off:g,css:h,find:Se,is:function(t,e){return!!R(t,e,t,!1)},extend:qe,throttle:Ce,closest:R,toggleClass:$,clone:_e,index:B,nextTick:Lt,cancelNextTick:re,detectDirection:Pe,getChild:ht,expando:O};p.get=function(r){return r[O]};p.mount=function(){for(var r=arguments.length,t=new Array(r),e=0;e<r;e++)t[e]=arguments[e];t[0].constructor===Array&&(t=t[0]),t.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(p.utils=G(G({},p.utils),n.utils)),jt.mount(n)})};p.create=function(r,t){return new p(r,t)};p.version=Ge;var D=[],wt,oe,ae=!1,Qt,te,Xt,Et;function hn(){function r(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return r.prototype={dragStarted:function(e){var n=e.originalEvent;this.sortable.nativeDraggable?v(document,"dragover",this._handleAutoScroll):this.options.supportPointer?v(document,"pointermove",this._handleFallbackAutoScroll):n.touches?v(document,"touchmove",this._handleFallbackAutoScroll):v(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var n=e.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?g(document,"dragover",this._handleAutoScroll):(g(document,"pointermove",this._handleFallbackAutoScroll),g(document,"touchmove",this._handleFallbackAutoScroll),g(document,"mousemove",this._handleFallbackAutoScroll)),ke(),Bt(),Ue()},nulling:function(){Xt=oe=wt=ae=Et=Qt=te=null,D.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,n){var o=this,a=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,s=document.elementFromPoint(a,i);if(Xt=e,n||this.options.forceAutoScrollFallback||Ct||J||kt){ee(e,this.options,s,n);var l=et(s,!0);ae&&(!Et||a!==Qt||i!==te)&&(Et&&ke(),Et=setInterval(function(){var c=et(document.elementFromPoint(a,i),!0);c!==l&&(l=c,Bt()),ee(e,o.options,c,n)},10),Qt=a,te=i)}else{if(!this.options.bubbleScroll||et(s,!0)===Y()){Bt();return}ee(e,this.options,et(s,!1),!1)}}},K(r,{pluginName:"scroll",initializeByDefault:!0})}function Bt(){D.forEach(function(r){clearInterval(r.pid)}),D=[]}function ke(){clearInterval(Et)}var ee=Ce(function(r,t,e,n){if(t.scroll){var o=(r.touches?r.touches[0]:r).clientX,a=(r.touches?r.touches[0]:r).clientY,i=t.scrollSensitivity,s=t.scrollSpeed,l=Y(),c=!1,f;oe!==e&&(oe=e,Bt(),wt=t.scroll,f=t.scrollFn,wt===!0&&(wt=et(e,!0)));var u=0,b=wt;do{var E=b,y=S(E),w=y.top,F=y.bottom,W=y.left,I=y.right,H=y.width,M=y.height,nt=void 0,X=void 0,rt=E.scrollWidth,pt=E.scrollHeight,N=h(E),mt=E.scrollLeft,V=E.scrollTop;E===l?(nt=H<rt&&(N.overflowX==="auto"||N.overflowX==="scroll"||N.overflowX==="visible"),X=M<pt&&(N.overflowY==="auto"||N.overflowY==="scroll"||N.overflowY==="visible")):(nt=H<rt&&(N.overflowX==="auto"||N.overflowX==="scroll"),X=M<pt&&(N.overflowY==="auto"||N.overflowY==="scroll"));var gt=nt&&(Math.abs(I-o)<=i&&mt+H<rt)-(Math.abs(W-o)<=i&&!!mt),q=X&&(Math.abs(F-a)<=i&&V+M<pt)-(Math.abs(w-a)<=i&&!!V);if(!D[u])for(var ot=0;ot<=u;ot++)D[ot]||(D[ot]={});(D[u].vx!=gt||D[u].vy!=q||D[u].el!==E)&&(D[u].el=E,D[u].vx=gt,D[u].vy=q,clearInterval(D[u].pid),(gt!=0||q!=0)&&(c=!0,D[u].pid=setInterval((function(){n&&this.layer===0&&p.active._onTouchMove(Xt);var vt=D[this.layer].vy?D[this.layer].vy*s:0,Z=D[this.layer].vx?D[this.layer].vx*s:0;typeof f=="function"&&f.call(p.dragged.parentNode[O],Z,vt,r,Xt,D[this.layer].el)!=="continue"||je(D[this.layer].el,Z,vt)}).bind({layer:u}),24))),u++}while(t.bubbleScroll&&b!==l&&(b=et(b,!1)));ae=c}},30),$e=function(t){var e=t.originalEvent,n=t.putSortable,o=t.dragEl,a=t.activeSortable,i=t.dispatchSortableEvent,s=t.hideGhostForTarget,l=t.unhideGhostForTarget;if(e){var c=n||a;s();var f=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,u=document.elementFromPoint(f.clientX,f.clientY);l(),c&&!c.el.contains(u)&&(i("spill"),this.onSpill({dragEl:o,putSortable:n}))}};function de(){}de.prototype={startIndex:null,dragStart:function(t){var e=t.oldDraggableIndex;this.startIndex=e},onSpill:function(t){var e=t.dragEl,n=t.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var o=ht(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(e,o):this.sortable.el.appendChild(e),this.sortable.animateAll(),n&&n.animateAll()},drop:$e};K(de,{pluginName:"revertOnSpill"});function ue(){}ue.prototype={onSpill:function(t){var e=t.dragEl,n=t.putSortable,o=n||this.sortable;o.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),o.animateAll()},drop:$e};K(ue,{pluginName:"removeOnSpill"});p.mount(new hn);p.mount(ue,de);class pn{storageKey="kanban-board-data";data;constructor(){this.data=this.loadData(),this.init()}init(){this.renderProjects(),this.renderAllTasks(),this.initializeDragAndDrop(),this.updateAllColumnCounts(),this.populateProjectDropdown(),console.log("Dynamic Kanban board initialized successfully!")}loadData(){const t=localStorage.getItem(this.storageKey);if(t)try{const e=JSON.parse(t);return e.archivedTasks||(e.archivedTasks=[]),e}catch(e){return console.error("Error parsing stored data:",e),this.getDefaultData()}return this.getDefaultData()}saveData(){localStorage.setItem(this.storageKey,JSON.stringify(this.data)),console.log("Data saved to localStorage")}getDefaultData(){return{projects:[{id:"mast",name:"Mast",starred:!0,color:"fuchsia"},{id:"bluejay",name:"Bluejay",starred:!0,color:"blue"},{id:"dabble",name:"Dabble",starred:!1,color:"purple"},{id:"highlight",name:"Highlight",starred:!1,color:"cyan"},{id:"figmate",name:"Figmate",starred:!1,color:"orange"},{id:"gwp",name:"GWP",starred:!1,color:"green"},{id:"launchpad",name:"LaunchPad",starred:!1,color:"violet"},{id:"rev",name:"Rev",starred:!1,color:"red"}],archivedTasks:[],columns:{"up-next":{id:"up-next",title:"Up Next",tasks:[{id:"task-1",title:"Update ticket designs in modal.",assignee:"Brantley Mathis",project:"Mast",projectColor:"fuchsia",time:"20h",status:"blocked",avatar:"https://picsum.photos/20?6"},{id:"task-2",title:"Create page layout for onboarding.",assignee:"Sarah Wilson",project:"Bluejay",projectColor:"blue",time:"15h",status:"paused",avatar:"https://picsum.photos/20?1"},{id:"task-3",title:"Polish designs and reach out to dev.",assignee:"Alex Chen",project:"Dabble",projectColor:"purple",time:"8h",avatar:"https://picsum.photos/20?2"},{id:"task-4",title:"Remote user approvals/comments",assignee:"Jordan Taylor",project:"GWP",projectColor:"green",time:"12h",avatar:"https://picsum.photos/20?3"},{id:"task-5",title:"Redo landing page for Sono Dojo",assignee:"Morgan Davis",project:"Figmate",projectColor:"orange",time:"25h",status:"cancelled",avatar:"https://picsum.photos/20?4"}]},"in-progress":{id:"in-progress",title:"In Progress",tasks:[{id:"task-6",title:"Include lien waiver questionnaire statement.",assignee:"Ivan Erickson",project:"Bluejay",projectColor:"blue",time:"5h",avatar:"https://picsum.photos/20?7"},{id:"task-7",title:"Button Styling Concepts",assignee:"Tori Bates",project:"Mast",projectColor:"fuchsia",time:"10h",status:"done",avatar:"https://picsum.photos/20?8"}]},"in-review":{id:"in-review",title:"In Review",tasks:[{id:"task-8",title:"Add Search Bar.",assignee:"Sabrina Dobson",project:"Highlight",projectColor:"cyan",hasApproval:!0,status:"done",avatar:"https://picsum.photos/20?9"},{id:"task-9",title:"Update Material Editor Info.",assignee:"Ellis Ochoa",project:"LaunchPad",projectColor:"violet",hasApproval:!0,avatar:"https://picsum.photos/20?10"},{id:"task-10",title:"Add Membership Renewal Button.",assignee:"Glenn Jones",project:"Rev",projectColor:"red",hasApproval:!0,status:"blocked",avatar:"https://picsum.photos/20?11"}]}}}}createTaskElement(t){const e=document.createElement("article");e.className="task-card rt:mx-2 rt:rounded-lg rt:border rt:border-zinc-800 rt:bg-zinc-800/60 rt:p-3 rt:shadow-sm rt:hover:border-zinc-700 fade-in-up",e.setAttribute("data-kanban-task","true"),e.setAttribute("data-task-id",t.id);const n={fuchsia:"rt:bg-fuchsia-700/40 rt:text-fuchsia-300",blue:"rt:bg-blue-700/40 rt:text-blue-300",purple:"rt:bg-purple-700/40 rt:text-purple-300",green:"rt:bg-green-700/40 rt:text-green-300",orange:"rt:bg-orange-700/40 rt:text-orange-300",cyan:"rt:bg-cyan-700/40 rt:text-cyan-300",violet:"rt:bg-violet-700/40 rt:text-violet-300",red:"rt:bg-red-700/40 rt:text-red-300",yellow:"rt:bg-yellow-700/40 rt:text-yellow-300",pink:"rt:bg-pink-700/40 rt:text-pink-300"},o={blocked:{class:"rt:bg-red-900/50 rt:text-red-300 rt:border-red-800/60",text:"Blocked",icon:"fas fa-ban"},paused:{class:"rt:bg-yellow-900/50 rt:text-yellow-300 rt:border-yellow-800/60",text:"Paused",icon:"fas fa-pause"},cancelled:{class:"rt:bg-gray-900/50 rt:text-gray-400 rt:border-gray-800/60",text:"Cancelled",icon:"fas fa-times"},done:{class:"rt:bg-green-900/50 rt:text-green-300 rt:border-green-800/60",text:"Done",icon:"fas fa-check"}},a=n[t.projectColor]||"rt:bg-gray-700/40 rt:text-gray-300",i=t.status&&o[t.status]?`
      <div class="rt:mb-2 rt:flex rt:items-center rt:justify-between">
        <span class="rt:inline-flex rt:items-center rt:gap-1 rt:rounded rt:border ${o[t.status].class} rt:px-2 rt:py-0.5 rt:text-[10px] rt:font-medium rt:cursor-pointer rt:hover:opacity-80 rt:transition-opacity rt:flex-shrink-0" data-action="toggle-status" data-task-id="${t.id}">
          <i class="${o[t.status].icon} rt:text-xs"></i>
          ${o[t.status].text}
        </span>
        <button data-action="archive-task" data-task-id="${t.id}" class="rt:p-1 rt:hover:bg-red-700/20 rt:hover:text-red-400 rt:rounded rt:transition-all rt:duration-200 rt:flex-shrink-0" title="Archive task">
          <i class="fas fa-archive rt:text-zinc-500 rt:hover:text-red-400 rt:text-sm"></i>
        </button>
      </div>
    `:`
      <div class="rt:mb-2 rt:flex rt:items-center rt:justify-between">
        <span class="rt:inline-flex rt:items-center rt:gap-1 rt:rounded rt:border rt:bg-zinc-800/60 rt:text-zinc-400 rt:border-zinc-700/60 rt:px-2 rt:py-0.5 rt:text-[10px] rt:font-medium rt:cursor-pointer rt:hover:bg-zinc-700/60 rt:transition-colors rt:flex-shrink-0" data-action="set-status" data-task-id="${t.id}">
          <i class="fas fa-plus rt:text-xs"></i>
          Status
        </span>
        <button data-action="archive-task" data-task-id="${t.id}" class="rt:p-1 rt:hover:bg-red-700/20 rt:hover:text-red-400 rt:rounded rt:transition-all rt:duration-200 rt:flex-shrink-0" title="Archive task">
          <i class="fas fa-archive rt:text-zinc-500 rt:hover:text-red-400 rt:text-sm"></i>
        </button>
      </div>
    `,s=t.hasApproval?`
      <div class="rt:mt-2 rt:flex rt:gap-2">
        <button data-action="approve-task" data-task-id="${t.id}" class="rt:px-2 rt:py-1 rt:text-[12px] rt:rounded rt:bg-emerald-700/40 rt:text-emerald-300 rt:border rt:border-emerald-800/60">
          Approve
        </button>
      </div>
    `:"",l=t.time?`<span class="rt:text-[11px] rt:text-zinc-400 rt:flex-shrink-0">${this.escapeHtml(t.time)}</span>`:"",c=this.truncateText(t.title,80);return e.innerHTML=`
      ${i}
      <header class="rt:flex rt:items-start rt:justify-between rt:group">
        <h3 class="rt:text-sm rt:font-medium rt:pr-2 break-words-force rt:min-w-0 rt:flex-1" title="${this.escapeHtml(t.title)}">${this.escapeHtml(c)}</h3>
        <div class="rt:flex rt:items-center rt:gap-1 rt:flex-shrink-0">
          ${l}
        </div>
      </header>
      ${s}
      <footer class="rt:mt-2 rt:flex rt:items-center rt:justify-between">
        <div class="rt:flex rt:items-center rt:gap-2 rt:min-w-0 rt:flex-1">
          <img class="rt:h-5 rt:w-5 rt:rounded-full rt:flex-shrink-0" src="${t.avatar}" alt="${this.escapeHtml(t.assignee)}">
          <span class="task-assignee rt:text-xs rt:text-zinc-300 rt:truncate" title="${this.escapeHtml(t.assignee)}">${this.escapeHtml(t.assignee)}</span>
        </div>
        <div class="rt:flex rt:items-center rt:gap-1 rt:flex-shrink-0">
          <span class="task-project rt:rounded ${a} rt:px-2 rt:py-0.5 rt:text-[11px] rt:truncate rt:max-w-24" title="${this.escapeHtml(t.project)}">${this.escapeHtml(t.project)}</span>
        </div>
      </footer>
    `,e}truncateText(t,e){return t.length<=e?t:t.substring(0,e)+"..."}renderProjects(){const t=document.getElementById("project-list"),e=document.getElementById("mobile-project-list");[t,e].forEach(o=>{o&&(o.innerHTML="")}),[...this.data.projects].sort((o,a)=>o.starred&&!a.starred?-1:!o.starred&&a.starred?1:0).forEach(o=>{const a=`
        <div class="project-item rt:group rt:flex rt:items-center rt:justify-between rt:px-2 rt:py-2 rt:rounded-md rt:hover:bg-zinc-800 rt:text-zinc-300">
          <a class="rt:flex rt:items-center rt:gap-2 rt:min-w-0 rt:flex-1 rt:cursor-pointer" href="#" data-project-id="${o.id}">
            ${o.starred?'<i class="fas fa-star rt:text-amber-400 rt:text-xs rt:flex-shrink-0"></i>':""}
            <span class="project-name rt:truncate rt:text-sm" title="${this.escapeHtml(o.name)}">${this.escapeHtml(o.name)}</span>
          </a>
          <div class="rt:flex rt:items-center rt:gap-1 rt:opacity-0 rt:group-hover:opacity-100 rt:transition-opacity rt:flex-shrink-0">
            <button class="project-star-btn rt:p-1 rt:hover:bg-zinc-700 rt:rounded" data-project-id="${o.id}" title="${o.starred?"Unstar project":"Star project"}">
              <i class="fas fa-star rt:text-xs ${o.starred?"rt:text-amber-400":"rt:text-zinc-500"}"></i>
            </button>
            <button class="project-delete-btn rt:p-1 rt:hover:bg-red-600 rt:rounded" data-project-id="${o.id}" title="Delete project">
              <i class="fas fa-trash rt:text-xs rt:text-zinc-500 rt:hover:text-white"></i>
            </button>
          </div>
        </div>
      `;[t,e].forEach(i=>{if(i){const s=document.createElement("li");s.innerHTML=a,i.appendChild(s)}})}),document.querySelectorAll(".project-star-btn").forEach(o=>{o.addEventListener("click",a=>{a.preventDefault(),a.stopPropagation();const i=a.currentTarget.getAttribute("data-project-id");i&&this.toggleProjectStar(i)})}),document.querySelectorAll(".project-delete-btn").forEach(o=>{o.addEventListener("click",a=>{a.preventDefault(),a.stopPropagation();const i=a.currentTarget.getAttribute("data-project-id");i&&this.deleteProject(i)})}),console.log("Projects rendered in sidebar")}escapeHtml(t){const e=document.createElement("div");return e.textContent=t,e.innerHTML}toggleProjectStar(t){const e=this.data.projects.find(n=>n.id===t);e&&(e.starred=!e.starred,this.saveData(),this.renderProjects(),console.log(`Project ${e.name} star toggled to ${e.starred}`))}deleteProject(t){const e=this.data.projects.findIndex(a=>a.id===t);if(e===-1)return;const n=this.data.projects[e];confirm(`Are you sure you want to delete the project "${n.name}"?

This action cannot be undone and will remove the project from all tasks.`)&&(this.data.projects.splice(e,1),Object.keys(this.data.columns).forEach(a=>{this.data.columns[a].tasks.forEach(s=>{s.project===n.name&&(s.project="")})}),this.data.archivedTasks&&this.data.archivedTasks.forEach(a=>{a.project===n.name&&(a.project="")}),this.saveData(),this.renderProjects(),this.renderAllTasks(),console.log(`Project "${n.name}" deleted`))}renderAllTasks(){Object.keys(this.data.columns).forEach(t=>{this.renderColumnTasks(t)})}renderColumnTasks(t){const e=document.querySelector(`[data-kanban-column="${t}"]`),n=this.data.columns[t];!e||!n||(e.innerHTML="",n.tasks.forEach(o=>{const a=this.createTaskElement(o);e.appendChild(a)}),this.updateColumnCount(t))}updateColumnCount(t){const e=document.querySelector(`[data-kanban-column="${t}"]`);if(!e)return;const n=e.closest(".bg-zinc-900")?.querySelector(".text-zinc-400"),o=this.data.columns[t]?.tasks.length||0;n&&(n.textContent=o.toString())}updateAllColumnCounts(){Object.keys(this.data.columns).forEach(t=>{this.updateColumnCount(t)})}moveTask(t,e,n){const o=this.data.columns[e],a=this.data.columns[n];if(!o||!a)return;const i=o.tasks.findIndex(l=>l.id===t);if(i===-1)return;const s=o.tasks.splice(i,1)[0];a.tasks.push(s),this.saveData(),console.log(`Task "${s.title}" moved from ${e} to ${n}`)}addTask(t,e){const n=this.data.columns[t];if(!n)return;const o={id:"task-"+Date.now(),title:e.title||"New Task",assignee:e.assignee||"Unassigned",project:e.project||"General",projectColor:e.projectColor||"gray",time:e.time||"",avatar:e.avatar||"https://picsum.photos/20?0",hasApproval:t==="in-review"};return n.tasks.push(o),this.saveData(),this.renderColumnTasks(t),console.log(`New task "${o.title}" added to ${t}`),o}removeTask(t){Object.keys(this.data.columns).forEach(e=>{const n=this.data.columns[e],o=n.tasks.findIndex(a=>a.id===t);if(o!==-1){const a=n.tasks.splice(o,1)[0];this.saveData(),this.renderColumnTasks(e),console.log(`Task "${a.title}" removed from ${e}`);return}})}approveTask(t){console.log(`Task ${t} approved`),this.removeTask(t)}updateTaskStatus(t,e){let n=null,o=null;Object.keys(this.data.columns).forEach(a=>{const i=this.data.columns[a],s=i.tasks.findIndex(l=>l.id===t);s!==-1&&(n=i.tasks[s],o=a)}),n&&o&&(e?n.status=e:delete n.status,this.saveData(),this.renderColumnTasks(o),console.log(`Task "${n.title}" status updated to: ${e||"No Status"}`))}getAvailableStatuses(){return[{value:"",label:"No Status",icon:""},{value:"blocked",label:"Blocked",icon:"fas fa-ban"},{value:"paused",label:"Paused",icon:"fas fa-pause"},{value:"cancelled",label:"Cancelled",icon:"fas fa-times"},{value:"done",label:"Done",icon:"fas fa-check"}]}archiveTask(t){let e=null,n=null;if(Object.keys(this.data.columns).forEach(o=>{const a=this.data.columns[o],i=a.tasks.findIndex(s=>s.id===t);i!==-1&&(e=a.tasks[i],n=o)}),e&&n){if(!confirm(`Are you sure you want to archive "${e.title}"?

This will move the task to your archive where you can restore it later.`))return;const a=this.data.columns[n],i=a.tasks.findIndex(l=>l.id===t),s=a.tasks.splice(i,1)[0];s.archivedAt=new Date().toISOString(),s.archivedFrom=n,this.data.archivedTasks||(this.data.archivedTasks=[]),this.data.archivedTasks.push(s),this.saveData(),this.renderColumnTasks(n),this.updateAllColumnCounts(),console.log(`Task "${s.title}" archived from ${n}`),this.showNotification(`Task "${s.title}" has been archived`,"success")}}restoreTask(t,e){if(!this.data.archivedTasks)return;const n=this.data.archivedTasks.findIndex(s=>s.id===t);if(n===-1)return;const o=this.data.archivedTasks.splice(n,1)[0],a=o.archivedFrom||"up-next";delete o.archivedAt,delete o.archivedFrom;const i=e||a;this.data.columns[i]&&(this.data.columns[i].tasks.push(o),this.saveData(),this.renderColumnTasks(i),this.updateAllColumnCounts(),console.log(`Task "${o.title}" restored to ${i}`),this.showNotification(`Task "${o.title}" restored`,"success"))}getArchivedTasks(){return this.data.archivedTasks||[]}deleteArchivedTask(t){if(!this.data.archivedTasks)return;const e=this.data.archivedTasks.findIndex(n=>n.id===t);if(e!==-1){const n=this.data.archivedTasks.splice(e,1)[0];this.saveData(),console.log(`Task "${n.title}" permanently deleted`),this.showNotification(`Task "${n.title}" permanently deleted`,"info")}}showNotification(t,e="info"){const n=document.createElement("div");n.className=`rt:fixed rt:top-4 rt:right-4 rt:z-50 rt:px-4 rt:py-2 rt:rounded-lg rt:text-sm rt:font-medium rt:transition-all rt:duration-300 rt:transform rt:translate-x-full ${e==="success"?"rt:bg-green-600 rt:text-white":e==="error"?"rt:bg-red-600 rt:text-white":"rt:bg-blue-600 rt:text-white"}`,n.textContent=t,document.body.appendChild(n),setTimeout(()=>{n.classList.remove("rt:translate-x-full")},10),setTimeout(()=>{n.classList.add("rt:translate-x-full"),setTimeout(()=>{n.remove()},300)},3e3)}addProject(t){const e={id:t.name.toLowerCase().replace(/\s+/g,"-"),name:t.name,starred:t.starred||!1,color:t.color||"blue"};return this.data.projects.push(e),this.saveData(),this.renderProjects(),this.populateProjectDropdown(),console.log(`New project "${e.name}" added`),e}removeProject(t){const e=this.data.projects.findIndex(n=>n.id===t);if(e!==-1){const n=this.data.projects.splice(e,1)[0];return this.saveData(),this.renderProjects(),this.populateProjectDropdown(),console.log(`Project "${n.name}" removed`),n}}populateProjectDropdown(){const t=document.getElementById("taskProject");t&&(t.innerHTML="",this.data.projects.forEach(e=>{const n=document.createElement("option");n.value=e.id,n.textContent=e.name,t.appendChild(n)}))}initializeDragAndDrop(){document.querySelectorAll("[data-kanban-column]").forEach(e=>{new p(e,{group:"kanban-tasks",animation:150,ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",onStart:n=>{console.log("Drag started:",n.item.querySelector("h3")?.textContent)},onEnd:n=>{const o=n.item.getAttribute("data-task-id"),a=n.from.getAttribute("data-kanban-column"),i=n.to.getAttribute("data-kanban-column");o&&a&&i&&a!==i&&(this.moveTask(o,a,i),this.updateAllColumnCounts())}})}),console.log("Drag and drop initialized for all columns")}resetData(){this.data=this.getDefaultData(),this.saveData(),this.renderProjects(),this.renderAllTasks(),this.updateAllColumnCounts(),this.populateProjectDropdown(),console.log("Data reset to defaults")}exportData(){const t=JSON.stringify(this.data,null,2),e=new Blob([t],{type:"application/json"}),n=URL.createObjectURL(e),o=document.createElement("a");o.href=n,o.download="kanban-board-data.json",o.click(),console.log("Data exported")}importData(t){try{this.data=JSON.parse(t),this.saveData(),this.renderProjects(),this.renderAllTasks(),this.updateAllColumnCounts(),this.populateProjectDropdown(),console.log("Data imported successfully")}catch(e){console.error("Error importing data:",e)}}}function Le(){document.getElementById("newTaskModal")?.classList.add("show"),document.getElementById("taskTitle")?.focus()}function Gt(){document.getElementById("newTaskModal")?.classList.remove("show"),document.getElementById("newTaskForm")?.reset()}function Be(){document.getElementById("newProjectModal")?.classList.add("show"),document.getElementById("projectName")?.focus()}function Wt(){document.getElementById("newProjectModal")?.classList.remove("show"),document.getElementById("newProjectForm")?.reset()}function Fe(){document.getElementById("archiveModal")?.classList.add("show"),ie()}function fe(){document.getElementById("archiveModal")?.classList.remove("show")}function ie(){const r=document.getElementById("archivedTasksList");if(!r)return;const t=_.getArchivedTasks();if(t.length===0){r.innerHTML=`
      <div class="rt:text-center rt:py-8 rt:text-zinc-400">
        <i class="fas fa-archive rt:text-4xl rt:mb-4 rt:opacity-50"></i>
        <p>No archived tasks</p>
      </div>
    `;return}r.innerHTML=t.map(e=>{const n=new Date(e.archivedAt).toLocaleDateString(),o=e.status?`
      <span class="rt:inline-flex rt:items-center rt:gap-1 rt:rounded rt:border rt:px-2 rt:py-0.5 rt:text-[10px] rt:font-medium ${mn(e.status)}">
        <i class="${gn(e.status)}"></i> ${e.status.charAt(0).toUpperCase()+e.status.slice(1)}
      </span>
    `:"";return`
      <div class="rt:bg-zinc-800/60 rt:border rt:border-zinc-700 rt:rounded-lg rt:p-4">
        <div class="rt:flex rt:justify-between rt:items-start rt:mb-2">
          <div class="rt:flex-1">
            <h3 class="rt:font-medium rt:text-zinc-100 rt:mb-1">${e.title}</h3>
            ${o}
          </div>
          <div class="rt:flex rt:gap-2 rt:ml-4">
            <button data-action="restore-task" data-task-id="${e.id}" class="rt:px-2 rt:py-1 rt:text-xs rt:bg-blue-600 rt:hover:bg-blue-700 rt:text-white rt:rounded rt:transition-colors">
              Restore
            </button>
            <button data-action="delete-archived-task" data-task-id="${e.id}" class="rt:px-2 rt:py-1 rt:text-xs rt:bg-red-600 rt:hover:bg-red-700 rt:text-white rt:rounded rt:transition-colors">
              Delete
            </button>
          </div>
        </div>
        <div class="rt:flex rt:justify-between rt:items-center rt:text-xs rt:text-zinc-400">
          <div class="rt:flex rt:items-center rt:gap-4">
            <span><i class="fas fa-user"></i> ${e.assignee}</span>
            <span><i class="fas fa-folder"></i> ${e.project}</span>
            ${e.time?`<span><i class="fas fa-clock"></i> ${e.time}</span>`:""}
          </div>
          <div>
            <span>Archived ${n}</span>
          </div>
        </div>
      </div>
    `}).join("")}function mn(r){return{blocked:"rt:bg-red-900/50 rt:text-red-300 rt:border-red-800/60",paused:"rt:bg-yellow-900/50 rt:text-yellow-300 rt:border-yellow-800/60",cancelled:"rt:bg-gray-900/50 rt:text-gray-400 rt:border-gray-800/60",done:"rt:bg-green-900/50 rt:text-green-300 rt:border-green-800/60"}[r]||"rt:bg-zinc-700/40 rt:text-zinc-300"}function gn(r){return{blocked:"fas fa-ban",paused:"fas fa-pause",cancelled:"fas fa-times",done:"fas fa-check"}[r]||""}function vn(r,t){const e=document.querySelector(".status-menu");e&&e.remove();const n=_.getAvailableStatuses(),o=document.createElement("div");o.className="status-menu rt:absolute rt:z-50 rt:bg-zinc-800 rt:border rt:border-zinc-700 rt:rounded-lg rt:shadow-lg rt:p-1 rt:min-w-[120px]",n.forEach(s=>{const l=document.createElement("button");l.className="rt:w-full rt:text-left rt:px-2 rt:py-1.5 rt:text-xs rt:rounded rt:hover:bg-zinc-700 rt:text-zinc-300 rt:flex rt:items-center rt:gap-2",l.innerHTML=`
      ${s.icon?`<i class="${s.icon}"></i>`:""}
      <span>${s.label}</span>
    `,l.addEventListener("click",()=>{_.updateTaskStatus(r,s.value||null),o.remove()}),o.appendChild(l)});const a=t.getBoundingClientRect();o.style.left=`${a.left}px`,o.style.top=`${a.bottom+5}px`,document.body.appendChild(o);const i=s=>{o.contains(s.target)||(o.remove(),document.removeEventListener("click",i))};setTimeout(()=>{document.addEventListener("click",i)},10)}function bn(r){r.preventDefault();const t=document.getElementById("taskTitle"),e=document.getElementById("taskAssignee"),n=document.getElementById("taskProject"),o=document.getElementById("taskTime"),a=document.getElementById("taskColumn"),i=document.getElementById("taskStatus"),s={title:t.value.trim(),assignee:e.value.trim()||"Unassigned",project:n.value,time:o.value.trim(),status:i.value||void 0},l=a.value;if(!s.title){alert("Please enter a task title");return}const c=_.data.projects.find(u=>u.id===s.project),f={title:s.title,assignee:s.assignee,project:c?c.name:"General",projectColor:c?c.color:"gray",time:s.time,status:s.status,avatar:`https://picsum.photos/20?${Date.now()}`,hasApproval:l==="in-review"};_.addTask(l,f),Gt()}function yn(r){r.preventDefault();const t=document.getElementById("projectName"),e=document.getElementById("projectColor"),n={name:t.value.trim(),color:e.value,starred:!1};if(!n.name){alert("Please enter a project name");return}if(_.data.projects.some(a=>a.name.toLowerCase()===n.name.toLowerCase())){alert("A project with this name already exists");return}_.addProject(n),Wt()}const _=new pn;document.addEventListener("click",r=>{const t=r.target,e=t.closest("[data-project-id]");if(e){r.preventDefault();const n=e.getAttribute("data-project-id");t.classList.contains("fa-star")?_.toggleProjectStar(n):console.log(`Selected project: ${n}`)}});document.addEventListener("click",r=>{const t=r.target;switch(t.getAttribute("data-action")){case"open-new-task-modal":Le();break;case"close-new-task-modal":Gt();break;case"open-new-project-modal":Be();break;case"close-new-project-modal":Wt();break;case"open-archive-modal":Fe();break;case"close-archive-modal":fe();break;case"approve-task":const n=t.getAttribute("data-task-id");n&&_.approveTask(n);break;case"archive-task":const o=t.getAttribute("data-task-id");o&&_.archiveTask(o);break;case"restore-task":const a=t.getAttribute("data-task-id");a&&(_.restoreTask(a),ie());break;case"delete-archived-task":const i=t.getAttribute("data-task-id");i&&confirm("Are you sure you want to permanently delete this task?")&&(_.deleteArchivedTask(i),ie());break;case"toggle-status":case"set-status":const s=t.getAttribute("data-task-id");s&&vn(s,t);break}});document.getElementById("newTaskForm")?.addEventListener("submit",bn);document.getElementById("newProjectForm")?.addEventListener("submit",yn);document.addEventListener("click",r=>{const t=r.target;t.classList.contains("modal-overlay")&&(t.id==="newTaskModal"?Gt():t.id==="newProjectModal"?Wt():t.id==="archiveModal"&&fe())});document.addEventListener("keydown",r=>{r.key==="Escape"&&(Gt(),Wt(),fe())});window.kanban=_;window.addSampleTask=()=>{_.addTask("up-next",{title:"Sample Task",assignee:"John Doe",project:"Test Project",projectColor:"blue",time:"5h",avatar:"https://picsum.photos/20?99"})};window.resetBoard=()=>{confirm("Are you sure you want to reset the board? This will clear all current data.")&&_.resetData()};window.exportBoard=()=>{_.exportData()};window.openNewTaskModal=Le;window.openNewProjectModal=Be;window.openArchiveModal=Fe;document.readyState==="loading"?document.addEventListener("DOMContentLoaded",se):se();function wn(){const r=document.querySelectorAll("[data-kanban-column]");function t(){const e=window.innerHeight,n=document.querySelector("main > div")?.getBoundingClientRect().height||80,o=e-n-100;r.forEach(a=>{const i=a;i.style.maxHeight=`${o}px`})}t(),window.addEventListener("resize",t),window.addEventListener("orientationchange",()=>{setTimeout(t,100)})}wn();function se(){const r=document.getElementById("open-mobile-menu"),t=document.getElementById("close-mobile-menu"),e=document.getElementById("mobile-sidebar-overlay"),n=document.getElementById("mobile-sidebar");if(r&&t&&e&&n){let o=function(){n&&e&&(n.classList.add("-translate-x-full"),setTimeout(()=>{e.classList.add("hidden")},300))};r.addEventListener("click",()=>{e.classList.remove("hidden"),setTimeout(()=>{n.classList.remove("-translate-x-full")},10)}),t.addEventListener("click",o),e.addEventListener("click",s=>{s.target===e&&o()});const a=document.getElementById("project-list"),i=document.getElementById("mobile-project-list");a&&i&&(new MutationObserver(()=>{i.innerHTML=a.innerHTML}).observe(a,{childList:!0,subtree:!0}),i.innerHTML=a.innerHTML)}}se();console.log("Dynamic Kanban Board loaded! Available commands:");console.log("- kanban.addTask(columnId, taskData)");console.log("- kanban.removeTask(taskId)");console.log("- kanban.archiveTask(taskId) - archive a task");console.log("- kanban.restoreTask(taskId) - restore archived task");console.log("- kanban.getArchivedTasks() - get all archived tasks");console.log("- kanban.addProject(projectData)");console.log("- kanban.removeProject(projectId)");console.log("- kanban.resetData()");console.log("- kanban.exportData()");console.log("- addSampleTask() - adds a sample task");console.log("- resetBoard() - resets to default data");console.log("- exportBoard() - exports current data");console.log("- openNewTaskModal() - opens new task dialog");console.log("- openNewProjectModal() - opens new project dialog");console.log("- openArchiveModal() - opens archive dialog");
